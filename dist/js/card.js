/*! For license information please see card.js.LICENSE.txt */
(()=>{var t,e={7973:(t,e,r)=>{"use strict";const i=Vue;var n={class:"nova-dashboard min-h-[auto] pt-0"},o={class:"flex justify-center w-[calc(100%+24px)] -ml-[12px]"},s={ref:"gridStack",class:"grid-stack h-full w-full"};var a={class:"sr-only"},l={class:"mr-2"},c=["innerHTML"],u={key:0,class:"py-1"},h={class:"toolbar-button pr-2 md:pr-3 flex flex-1 justify-between filter__header"},d={key:1,class:"w-full"},p={class:"filter__inner bg-gray-900 rounded p-4"},f={key:0},g={class:"flex flex-wrap"};var m=r(2512),v=r.n(m),y=r(6534),b=r.n(y);function w(t){return w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},w(t)}function _(){_=function(){return e};var t,e={},r=Object.prototype,i=r.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,r){return t[e]=r}}function u(t,e,r,i){var o=e&&e.prototype instanceof v?e:v,s=Object.create(o.prototype),a=new z(i||[]);return n(s,"_invoke",{value:O(t,r,a)}),s}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=u;var d="suspendedStart",p="suspendedYield",f="executing",g="completed",m={};function v(){}function y(){}function b(){}var x={};c(x,s,(function(){return this}));var E=Object.getPrototypeOf,k=E&&E(E(D([])));k&&k!==r&&i.call(k,s)&&(x=k);var C=b.prototype=v.prototype=Object.create(x);function N(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function S(t,e){function r(n,o,s,a){var l=h(t[n],t,o);if("throw"!==l.type){var c=l.arg,u=c.value;return u&&"object"==w(u)&&i.call(u,"__await")?e.resolve(u.__await).then((function(t){r("next",t,s,a)}),(function(t){r("throw",t,s,a)})):e.resolve(u).then((function(t){c.value=t,s(c)}),(function(t){return r("throw",t,s,a)}))}a(l.arg)}var o;n(this,"_invoke",{value:function(t,i){function n(){return new e((function(e,n){r(t,i,e,n)}))}return o=o?o.then(n,n):n()}})}function O(e,r,i){var n=d;return function(o,s){if(n===f)throw new Error("Generator is already running");if(n===g){if("throw"===o)throw s;return{value:t,done:!0}}for(i.method=o,i.arg=s;;){var a=i.delegate;if(a){var l=j(a,i);if(l){if(l===m)continue;return l}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(n===d)throw n=g,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);n=f;var c=h(e,r,i);if("normal"===c.type){if(n=i.done?g:p,c.arg===m)continue;return{value:c.arg,done:i.done}}"throw"===c.type&&(n=g,i.method="throw",i.arg=c.arg)}}}function j(e,r){var i=r.method,n=e.iterator[i];if(n===t)return r.delegate=null,"throw"===i&&e.iterator.return&&(r.method="return",r.arg=t,j(e,r),"throw"===r.method)||"return"!==i&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+i+"' method")),m;var o=h(n,e.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,m;var s=o.arg;return s?s.done?(r[e.resultName]=s.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,m):s:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function L(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function R(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function z(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(L,this),this.reset(!0)}function D(e){if(e||""===e){var r=e[s];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function r(){for(;++n<e.length;)if(i.call(e,n))return r.value=e[n],r.done=!1,r;return r.value=t,r.done=!0,r};return o.next=o}}throw new TypeError(w(e)+" is not iterable")}return y.prototype=b,n(C,"constructor",{value:b,configurable:!0}),n(b,"constructor",{value:y,configurable:!0}),y.displayName=c(b,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,c(t,l,"GeneratorFunction")),t.prototype=Object.create(C),t},e.awrap=function(t){return{__await:t}},N(S.prototype),c(S.prototype,a,(function(){return this})),e.AsyncIterator=S,e.async=function(t,r,i,n,o){void 0===o&&(o=Promise);var s=new S(u(t,r,i,n),o);return e.isGeneratorFunction(r)?s:s.next().then((function(t){return t.done?t.value:s.next()}))},N(C),c(C,l,"Generator"),c(C,s,(function(){return this})),c(C,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var i in e)r.push(i);return r.reverse(),function t(){for(;r.length;){var i=r.pop();if(i in e)return t.value=i,t.done=!1,t}return t.done=!0,t}},e.values=D,z.prototype={constructor:z,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(R),!e)for(var r in this)"t"===r.charAt(0)&&i.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function n(i,n){return a.type="throw",a.arg=e,r.next=i,n&&(r.method="next",r.arg=t),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var s=this.tryEntries[o],a=s.completion;if("root"===s.tryLoc)return n("end");if(s.tryLoc<=this.prev){var l=i.call(s,"catchLoc"),c=i.call(s,"finallyLoc");if(l&&c){if(this.prev<s.catchLoc)return n(s.catchLoc,!0);if(this.prev<s.finallyLoc)return n(s.finallyLoc)}else if(l){if(this.prev<s.catchLoc)return n(s.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return n(s.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&i.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=t,s.arg=e,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),R(r),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var i=r.completion;if("throw"===i.type){var n=i.arg;R(r)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,i){return this.delegate={iterator:D(e),resultName:r,nextLoc:i},"next"===this.method&&(this.arg=t),m}},e}function x(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==w(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var i=r.call(t,e||"default");if("object"!==w(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===w(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function E(t,e,r,i,n,o,s){try{var a=t[o](s),l=a.value}catch(t){return void r(t)}a.done?e(l):Promise.resolve(l).then(i,n)}function k(t){return function(){var e=this,r=arguments;return new Promise((function(i,n){var o=t.apply(e,r);function s(t){E(o,i,n,s,a,"next",t)}function a(t){E(o,i,n,s,a,"throw",t)}s(void 0)}))}}const C={data:function(){return{filterHasLoaded:!1,filterIsActive:!1}},watch:{encodedFilters:function(t){Nova.$emit("filter-changed",[t])}},methods:{clearSelectedFilters:function(t){var e=this;return k(_().mark((function r(){var i;return _().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!t){r.next=5;break}return r.next=3,e.$store.dispatch("".concat(e.resourceName,"/resetFilterState"),{resourceName:e.resourceName,lens:t});case 3:r.next=7;break;case 5:return r.next=7,e.$store.dispatch("".concat(e.resourceName,"/resetFilterState"),{resourceName:e.resourceName});case 7:e.updateQueryString((x(i={},e.pageParameter,1),x(i,e.filterParameter,""),i)),Nova.$emit("filter-reset");case 9:case"end":return r.stop()}}),r)})))()},filterChanged:function(){var t;(this.$store.getters["".concat(this.resourceName,"/filtersAreApplied")]||this.filterIsActive)&&(this.filterIsActive=!0,this.updateQueryString((x(t={},this.pageParameter,1),x(t,this.filterParameter,this.encodedFilters),t)))},initializeFilters:function(t){var e=this;return k(_().mark((function r(){return _().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!0!==e.filterHasLoaded){r.next=2;break}return r.abrupt("return");case 2:return e.$store.commit("".concat(e.resourceName,"/clearFilters")),r.next=5,e.$store.dispatch("".concat(e.resourceName,"/fetchFilters"),b()({resourceName:e.resourceName,viaResource:e.viaResource,viaResourceId:e.viaResourceId,viaRelationship:e.viaRelationship,relationshipType:e.relationshipType,lens:t},v()));case 5:return r.next=7,e.initializeState(t);case 7:e.filterHasLoaded=!0;case 8:case"end":return r.stop()}}),r)})))()},initializeState:function(t){var e=this;return k(_().mark((function r(){return _().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!e.initialEncodedFilters){r.next=5;break}return r.next=3,e.$store.dispatch("".concat(e.resourceName,"/initializeCurrentFilterValuesFromQueryString"),e.initialEncodedFilters);case 3:r.next=7;break;case 5:return r.next=7,e.$store.dispatch("".concat(e.resourceName,"/resetFilterState"),{resourceName:e.resourceName,lens:t});case 7:case"end":return r.stop()}}),r)})))()}},computed:{filterParameter:function(){return this.resourceName+"_filter"},encodedFilters:function(){return this.$store.getters["".concat(this.resourceName,"/currentEncodedFilters")]}}};function N(){return"undefined"!=typeof navigator&&"undefined"!=typeof window?window:void 0!==r.g?r.g:{}}const S="function"==typeof Proxy,O="devtools-plugin:setup";let j,L;function R(){return void 0!==j||("undefined"!=typeof window&&window.performance?(j=!0,L=window.performance):void 0!==r.g&&(null===(t=r.g.perf_hooks)||void 0===t?void 0:t.performance)?(j=!0,L=r.g.perf_hooks.performance):j=!1),j?L.now():Date.now();var t}class z{constructor(t,e){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=t,this.hook=e;const r={};if(t.settings)for(const e in t.settings){const i=t.settings[e];r[e]=i.defaultValue}const i=`__vue-devtools-plugin-settings__${t.id}`;let n=Object.assign({},r);try{const t=localStorage.getItem(i),e=JSON.parse(t);Object.assign(n,e)}catch(t){}this.fallbacks={getSettings:()=>n,setSettings(t){try{localStorage.setItem(i,JSON.stringify(t))}catch(t){}n=t},now:()=>R()},e&&e.on("plugin:settings:set",((t,e)=>{t===this.plugin.id&&this.fallbacks.setSettings(e)})),this.proxiedOn=new Proxy({},{get:(t,e)=>this.target?this.target.on[e]:(...t)=>{this.onQueue.push({method:e,args:t})}}),this.proxiedTarget=new Proxy({},{get:(t,e)=>this.target?this.target[e]:"on"===e?this.proxiedOn:Object.keys(this.fallbacks).includes(e)?(...t)=>(this.targetQueue.push({method:e,args:t,resolve:()=>{}}),this.fallbacks[e](...t)):(...t)=>new Promise((r=>{this.targetQueue.push({method:e,args:t,resolve:r})}))})}async setRealTarget(t){this.target=t;for(const t of this.onQueue)this.target.on[t.method](...t.args);for(const t of this.targetQueue)t.resolve(await this.target[t.method](...t.args))}}function D(t,e){const r=t,i=N(),n=N().__VUE_DEVTOOLS_GLOBAL_HOOK__,o=S&&r.enableEarlyProxy;if(!n||!i.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__&&o){const t=o?new z(r,n):null;(i.__VUE_DEVTOOLS_PLUGINS__=i.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:r,setupFn:e,proxy:t}),t&&e(t.proxiedTarget)}else n.emit(O,t,e)}var A="store";function M(t,e){Object.keys(t).forEach((function(r){return e(t[r],r)}))}function T(t){return null!==t&&"object"==typeof t}function P(t,e,r){return e.indexOf(t)<0&&(r&&r.prepend?e.unshift(t):e.push(t)),function(){var r=e.indexOf(t);r>-1&&e.splice(r,1)}}function H(t,e){t._actions=Object.create(null),t._mutations=Object.create(null),t._wrappedGetters=Object.create(null),t._modulesNamespaceMap=Object.create(null);var r=t.state;$(t,r,[],t._modules.root,!0),I(t,r,e)}function I(t,e,r){var n=t._state,o=t._scope;t.getters={},t._makeLocalGettersCache=Object.create(null);var s=t._wrappedGetters,a={},l={},c=(0,i.effectScope)(!0);c.run((function(){M(s,(function(e,r){a[r]=function(t,e){return function(){return t(e)}}(e,t),l[r]=(0,i.computed)((function(){return a[r]()})),Object.defineProperty(t.getters,r,{get:function(){return l[r].value},enumerable:!0})}))})),t._state=(0,i.reactive)({data:e}),t._scope=c,t.strict&&function(t){(0,i.watch)((function(){return t._state.data}),(function(){0}),{deep:!0,flush:"sync"})}(t),n&&r&&t._withCommit((function(){n.data=null})),o&&o.stop()}function $(t,e,r,i,n){var o=!r.length,s=t._modules.getNamespace(r);if(i.namespaced&&(t._modulesNamespaceMap[s],t._modulesNamespaceMap[s]=i),!o&&!n){var a=B(e,r.slice(0,-1)),l=r[r.length-1];t._withCommit((function(){a[l]=i.state}))}var c=i.context=function(t,e,r){var i=""===e,n={dispatch:i?t.dispatch:function(r,i,n){var o=F(r,i,n),s=o.payload,a=o.options,l=o.type;return a&&a.root||(l=e+l),t.dispatch(l,s)},commit:i?t.commit:function(r,i,n){var o=F(r,i,n),s=o.payload,a=o.options,l=o.type;a&&a.root||(l=e+l),t.commit(l,s,a)}};return Object.defineProperties(n,{getters:{get:i?function(){return t.getters}:function(){return G(t,e)}},state:{get:function(){return B(t.state,r)}}}),n}(t,s,r);i.forEachMutation((function(e,r){!function(t,e,r,i){var n=t._mutations[e]||(t._mutations[e]=[]);n.push((function(e){r.call(t,i.state,e)}))}(t,s+r,e,c)})),i.forEachAction((function(e,r){var i=e.root?r:s+r,n=e.handler||e;!function(t,e,r,i){var n=t._actions[e]||(t._actions[e]=[]);n.push((function(e){var n,o=r.call(t,{dispatch:i.dispatch,commit:i.commit,getters:i.getters,state:i.state,rootGetters:t.getters,rootState:t.state},e);return(n=o)&&"function"==typeof n.then||(o=Promise.resolve(o)),t._devtoolHook?o.catch((function(e){throw t._devtoolHook.emit("vuex:error",e),e})):o}))}(t,i,n,c)})),i.forEachGetter((function(e,r){!function(t,e,r,i){if(t._wrappedGetters[e])return void 0;t._wrappedGetters[e]=function(t){return r(i.state,i.getters,t.state,t.getters)}}(t,s+r,e,c)})),i.forEachChild((function(i,o){$(t,e,r.concat(o),i,n)}))}function G(t,e){if(!t._makeLocalGettersCache[e]){var r={},i=e.length;Object.keys(t.getters).forEach((function(n){if(n.slice(0,i)===e){var o=n.slice(i);Object.defineProperty(r,o,{get:function(){return t.getters[n]},enumerable:!0})}})),t._makeLocalGettersCache[e]=r}return t._makeLocalGettersCache[e]}function B(t,e){return e.reduce((function(t,e){return t[e]}),t)}function F(t,e,r){return T(t)&&t.type&&(r=e,e=t,t=t.type),{type:t,payload:e,options:r}}var U="vuex:mutations",W="vuex:actions",V="vuex",Y=0;function q(t,e){D({id:"org.vuejs.vuex",app:t,label:"Vuex",homepage:"https://next.vuex.vuejs.org/",logo:"https://vuejs.org/images/icons/favicon-96x96.png",packageName:"vuex",componentStateTypes:["vuex bindings"]},(function(r){r.addTimelineLayer({id:U,label:"Vuex Mutations",color:Q}),r.addTimelineLayer({id:W,label:"Vuex Actions",color:Q}),r.addInspector({id:V,label:"Vuex",icon:"storage",treeFilterPlaceholder:"Filter stores..."}),r.on.getInspectorTree((function(r){if(r.app===t&&r.inspectorId===V)if(r.filter){var i=[];J(i,e._modules.root,r.filter,""),r.rootNodes=i}else r.rootNodes=[K(e._modules.root,"")]})),r.on.getInspectorState((function(r){if(r.app===t&&r.inspectorId===V){var i=r.nodeId;G(e,i),r.state=function(t,e,r){e="root"===r?e:e[r];var i=Object.keys(e),n={state:Object.keys(t.state).map((function(e){return{key:e,editable:!0,value:t.state[e]}}))};if(i.length){var o=function(t){var e={};return Object.keys(t).forEach((function(r){var i=r.split("/");if(i.length>1){var n=e,o=i.pop();i.forEach((function(t){n[t]||(n[t]={_custom:{value:{},display:t,tooltip:"Module",abstract:!0}}),n=n[t]._custom.value})),n[o]=tt((function(){return t[r]}))}else e[r]=tt((function(){return t[r]}))})),e}(e);n.getters=Object.keys(o).map((function(t){return{key:t.endsWith("/")?X(t):t,editable:!1,value:tt((function(){return o[t]}))}}))}return n}((n=e._modules,(s=(o=i).split("/").filter((function(t){return t}))).reduce((function(t,e,r){var i=t[e];if(!i)throw new Error('Missing module "'+e+'" for path "'+o+'".');return r===s.length-1?i:i._children}),"root"===o?n:n.root._children)),"root"===i?e.getters:e._makeLocalGettersCache,i)}var n,o,s})),r.on.editInspectorState((function(r){if(r.app===t&&r.inspectorId===V){var i=r.nodeId,n=r.path;"root"!==i&&(n=i.split("/").filter(Boolean).concat(n)),e._withCommit((function(){r.set(e._state.data,n,r.state.value)}))}})),e.subscribe((function(t,e){var i={};t.payload&&(i.payload=t.payload),i.state=e,r.notifyComponentUpdate(),r.sendInspectorTree(V),r.sendInspectorState(V),r.addTimelineEvent({layerId:U,event:{time:Date.now(),title:t.type,data:i}})})),e.subscribeAction({before:function(t,e){var i={};t.payload&&(i.payload=t.payload),t._id=Y++,t._time=Date.now(),i.state=e,r.addTimelineEvent({layerId:W,event:{time:t._time,title:t.type,groupId:t._id,subtitle:"start",data:i}})},after:function(t,e){var i={},n=Date.now()-t._time;i.duration={_custom:{type:"duration",display:n+"ms",tooltip:"Action duration",value:n}},t.payload&&(i.payload=t.payload),i.state=e,r.addTimelineEvent({layerId:W,event:{time:Date.now(),title:t.type,groupId:t._id,subtitle:"end",data:i}})}})}))}var Q=8702998,Z={label:"namespaced",textColor:16777215,backgroundColor:6710886};function X(t){return t&&"root"!==t?t.split("/").slice(-2,-1)[0]:"Root"}function K(t,e){return{id:e||"root",label:X(e),tags:t.namespaced?[Z]:[],children:Object.keys(t._children).map((function(r){return K(t._children[r],e+r+"/")}))}}function J(t,e,r,i){i.includes(r)&&t.push({id:i||"root",label:i.endsWith("/")?i.slice(0,i.length-1):i||"Root",tags:e.namespaced?[Z]:[]}),Object.keys(e._children).forEach((function(n){J(t,e._children[n],r,i+n+"/")}))}function tt(t){try{return t()}catch(t){return t}}var et=function(t,e){this.runtime=e,this._children=Object.create(null),this._rawModule=t;var r=t.state;this.state=("function"==typeof r?r():r)||{}},rt={namespaced:{configurable:!0}};rt.namespaced.get=function(){return!!this._rawModule.namespaced},et.prototype.addChild=function(t,e){this._children[t]=e},et.prototype.removeChild=function(t){delete this._children[t]},et.prototype.getChild=function(t){return this._children[t]},et.prototype.hasChild=function(t){return t in this._children},et.prototype.update=function(t){this._rawModule.namespaced=t.namespaced,t.actions&&(this._rawModule.actions=t.actions),t.mutations&&(this._rawModule.mutations=t.mutations),t.getters&&(this._rawModule.getters=t.getters)},et.prototype.forEachChild=function(t){M(this._children,t)},et.prototype.forEachGetter=function(t){this._rawModule.getters&&M(this._rawModule.getters,t)},et.prototype.forEachAction=function(t){this._rawModule.actions&&M(this._rawModule.actions,t)},et.prototype.forEachMutation=function(t){this._rawModule.mutations&&M(this._rawModule.mutations,t)},Object.defineProperties(et.prototype,rt);var it=function(t){this.register([],t,!1)};function nt(t,e,r){if(e.update(r),r.modules)for(var i in r.modules){if(!e.getChild(i))return void 0;nt(t.concat(i),e.getChild(i),r.modules[i])}}it.prototype.get=function(t){return t.reduce((function(t,e){return t.getChild(e)}),this.root)},it.prototype.getNamespace=function(t){var e=this.root;return t.reduce((function(t,r){return t+((e=e.getChild(r)).namespaced?r+"/":"")}),"")},it.prototype.update=function(t){nt([],this.root,t)},it.prototype.register=function(t,e,r){var i=this;void 0===r&&(r=!0);var n=new et(e,r);0===t.length?this.root=n:this.get(t.slice(0,-1)).addChild(t[t.length-1],n);e.modules&&M(e.modules,(function(e,n){i.register(t.concat(n),e,r)}))},it.prototype.unregister=function(t){var e=this.get(t.slice(0,-1)),r=t[t.length-1],i=e.getChild(r);i&&i.runtime&&e.removeChild(r)},it.prototype.isRegistered=function(t){var e=this.get(t.slice(0,-1)),r=t[t.length-1];return!!e&&e.hasChild(r)};var ot=function(t){var e=this;void 0===t&&(t={});var r=t.plugins;void 0===r&&(r=[]);var i=t.strict;void 0===i&&(i=!1);var n=t.devtools;this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new it(t),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null),this._scope=null,this._devtools=n;var o=this,s=this.dispatch,a=this.commit;this.dispatch=function(t,e){return s.call(o,t,e)},this.commit=function(t,e,r){return a.call(o,t,e,r)},this.strict=i;var l=this._modules.root.state;$(this,l,[],this._modules.root),I(this,l),r.forEach((function(t){return t(e)}))},st={state:{configurable:!0}};ot.prototype.install=function(t,e){t.provide(e||A,this),t.config.globalProperties.$store=this,void 0!==this._devtools&&this._devtools&&q(t,this)},st.state.get=function(){return this._state.data},st.state.set=function(t){0},ot.prototype.commit=function(t,e,r){var i=this,n=F(t,e,r),o=n.type,s=n.payload,a=(n.options,{type:o,payload:s}),l=this._mutations[o];l&&(this._withCommit((function(){l.forEach((function(t){t(s)}))})),this._subscribers.slice().forEach((function(t){return t(a,i.state)})))},ot.prototype.dispatch=function(t,e){var r=this,i=F(t,e),n=i.type,o=i.payload,s={type:n,payload:o},a=this._actions[n];if(a){try{this._actionSubscribers.slice().filter((function(t){return t.before})).forEach((function(t){return t.before(s,r.state)}))}catch(t){0}var l=a.length>1?Promise.all(a.map((function(t){return t(o)}))):a[0](o);return new Promise((function(t,e){l.then((function(e){try{r._actionSubscribers.filter((function(t){return t.after})).forEach((function(t){return t.after(s,r.state)}))}catch(t){0}t(e)}),(function(t){try{r._actionSubscribers.filter((function(t){return t.error})).forEach((function(e){return e.error(s,r.state,t)}))}catch(t){0}e(t)}))}))}},ot.prototype.subscribe=function(t,e){return P(t,this._subscribers,e)},ot.prototype.subscribeAction=function(t,e){return P("function"==typeof t?{before:t}:t,this._actionSubscribers,e)},ot.prototype.watch=function(t,e,r){var n=this;return(0,i.watch)((function(){return t(n.state,n.getters)}),e,Object.assign({},r))},ot.prototype.replaceState=function(t){var e=this;this._withCommit((function(){e._state.data=t}))},ot.prototype.registerModule=function(t,e,r){void 0===r&&(r={}),"string"==typeof t&&(t=[t]),this._modules.register(t,e),$(this,this.state,t,this._modules.get(t),r.preserveState),I(this,this.state)},ot.prototype.unregisterModule=function(t){var e=this;"string"==typeof t&&(t=[t]),this._modules.unregister(t),this._withCommit((function(){delete B(e.state,t.slice(0,-1))[t[t.length-1]]})),H(this)},ot.prototype.hasModule=function(t){return"string"==typeof t&&(t=[t]),this._modules.isRegistered(t)},ot.prototype.hotUpdate=function(t){this._modules.update(t),H(this,!0)},ot.prototype._withCommit=function(t){var e=this._committing;this._committing=!0,t(),this._committing=e},Object.defineProperties(ot.prototype,st);ut((function(t,e){var r={};return ct(e).forEach((function(e){var i=e.key,n=e.val;r[i]=function(){var e=this.$store.state,r=this.$store.getters;if(t){var i=ht(this.$store,"mapState",t);if(!i)return;e=i.context.state,r=i.context.getters}return"function"==typeof n?n.call(this,e,r):e[n]},r[i].vuex=!0})),r})),ut((function(t,e){var r={};return ct(e).forEach((function(e){var i=e.key,n=e.val;r[i]=function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];var i=this.$store.commit;if(t){var o=ht(this.$store,"mapMutations",t);if(!o)return;i=o.context.commit}return"function"==typeof n?n.apply(this,[i].concat(e)):i.apply(this.$store,[n].concat(e))}})),r}));var at=ut((function(t,e){var r={};return ct(e).forEach((function(e){var i=e.key,n=e.val;n=t+n,r[i]=function(){if(!t||ht(this.$store,"mapGetters",t))return this.$store.getters[n]},r[i].vuex=!0})),r})),lt=ut((function(t,e){var r={};return ct(e).forEach((function(e){var i=e.key,n=e.val;r[i]=function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];var i=this.$store.dispatch;if(t){var o=ht(this.$store,"mapActions",t);if(!o)return;i=o.context.dispatch}return"function"==typeof n?n.apply(this,[i].concat(e)):i.apply(this.$store,[n].concat(e))}})),r}));function ct(t){return function(t){return Array.isArray(t)||T(t)}(t)?Array.isArray(t)?t.map((function(t){return{key:t,val:t}})):Object.keys(t).map((function(e){return{key:e,val:t[e]}})):[]}function ut(t){return function(e,r){return"string"!=typeof e?(r=e,e=""):"/"!==e.charAt(e.length-1)&&(e+="/"),t(e,r)}}function ht(t,e,r){return t._modulesNamespaceMap[r]}function dt(t){return dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dt(t)}function pt(){pt=function(){return e};var t,e={},r=Object.prototype,i=r.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,r){return t[e]=r}}function u(t,e,r,i){var o=e&&e.prototype instanceof v?e:v,s=Object.create(o.prototype),a=new L(i||[]);return n(s,"_invoke",{value:N(t,r,a)}),s}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=u;var d="suspendedStart",p="suspendedYield",f="executing",g="completed",m={};function v(){}function y(){}function b(){}var w={};c(w,s,(function(){return this}));var _=Object.getPrototypeOf,x=_&&_(_(R([])));x&&x!==r&&i.call(x,s)&&(w=x);var E=b.prototype=v.prototype=Object.create(w);function k(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function C(t,e){function r(n,o,s,a){var l=h(t[n],t,o);if("throw"!==l.type){var c=l.arg,u=c.value;return u&&"object"==dt(u)&&i.call(u,"__await")?e.resolve(u.__await).then((function(t){r("next",t,s,a)}),(function(t){r("throw",t,s,a)})):e.resolve(u).then((function(t){c.value=t,s(c)}),(function(t){return r("throw",t,s,a)}))}a(l.arg)}var o;n(this,"_invoke",{value:function(t,i){function n(){return new e((function(e,n){r(t,i,e,n)}))}return o=o?o.then(n,n):n()}})}function N(e,r,i){var n=d;return function(o,s){if(n===f)throw new Error("Generator is already running");if(n===g){if("throw"===o)throw s;return{value:t,done:!0}}for(i.method=o,i.arg=s;;){var a=i.delegate;if(a){var l=S(a,i);if(l){if(l===m)continue;return l}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(n===d)throw n=g,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);n=f;var c=h(e,r,i);if("normal"===c.type){if(n=i.done?g:p,c.arg===m)continue;return{value:c.arg,done:i.done}}"throw"===c.type&&(n=g,i.method="throw",i.arg=c.arg)}}}function S(e,r){var i=r.method,n=e.iterator[i];if(n===t)return r.delegate=null,"throw"===i&&e.iterator.return&&(r.method="return",r.arg=t,S(e,r),"throw"===r.method)||"return"!==i&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+i+"' method")),m;var o=h(n,e.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,m;var s=o.arg;return s?s.done?(r[e.resultName]=s.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,m):s:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function j(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function R(e){if(e||""===e){var r=e[s];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function r(){for(;++n<e.length;)if(i.call(e,n))return r.value=e[n],r.done=!1,r;return r.value=t,r.done=!0,r};return o.next=o}}throw new TypeError(dt(e)+" is not iterable")}return y.prototype=b,n(E,"constructor",{value:b,configurable:!0}),n(b,"constructor",{value:y,configurable:!0}),y.displayName=c(b,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,c(t,l,"GeneratorFunction")),t.prototype=Object.create(E),t},e.awrap=function(t){return{__await:t}},k(C.prototype),c(C.prototype,a,(function(){return this})),e.AsyncIterator=C,e.async=function(t,r,i,n,o){void 0===o&&(o=Promise);var s=new C(u(t,r,i,n),o);return e.isGeneratorFunction(r)?s:s.next().then((function(t){return t.done?t.value:s.next()}))},k(E),c(E,l,"Generator"),c(E,s,(function(){return this})),c(E,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var i in e)r.push(i);return r.reverse(),function t(){for(;r.length;){var i=r.pop();if(i in e)return t.value=i,t.done=!1,t}return t.done=!0,t}},e.values=R,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(j),!e)for(var r in this)"t"===r.charAt(0)&&i.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function n(i,n){return a.type="throw",a.arg=e,r.next=i,n&&(r.method="next",r.arg=t),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var s=this.tryEntries[o],a=s.completion;if("root"===s.tryLoc)return n("end");if(s.tryLoc<=this.prev){var l=i.call(s,"catchLoc"),c=i.call(s,"finallyLoc");if(l&&c){if(this.prev<s.catchLoc)return n(s.catchLoc,!0);if(this.prev<s.finallyLoc)return n(s.finallyLoc)}else if(l){if(this.prev<s.catchLoc)return n(s.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return n(s.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&i.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=t,s.arg=e,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),j(r),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var i=r.completion;if("throw"===i.type){var n=i.arg;j(r)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,i){return this.delegate={iterator:R(e),resultName:r,nextLoc:i},"next"===this.method&&(this.arg=t),m}},e}function ft(t,e,r,i,n,o,s){try{var a=t[o](s),l=a.value}catch(t){return void r(t)}a.done?e(l):Promise.resolve(l).then(i,n)}const gt={created:function(){var t,e=this;return(t=pt().mark((function t(){return pt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.syncQueryString();case 1:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(i,n){var o=t.apply(e,r);function s(t){ft(o,i,n,s,a,"next",t)}function a(t){ft(o,i,n,s,a,"throw",t)}s(void 0)}))})()},methods:lt(["syncQueryString","updateQueryString"]),computed:at(["queryStringParams"])},mt="--vc-auto-duration",vt=`height var(${mt}) cubic-bezier(0.33, 1, 0.68, 1)`,yt={padding:0},bt={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",border:"0"};function wt(t){return t.value?parseFloat(getComputedStyle(t.value).height):0}function _t(t){var e;return{height:`${(null==(e=t.value)?void 0:e.scrollHeight)??0}px`}}function xt(t){if(!t.value)return{};const{transition:e}=getComputedStyle(t.value);return"all 0s ease 0s"===e?{transition:vt}:{transition:e}}function Et(t){if(!t.value)return!0;const{transition:e}=getComputedStyle(t.value);return matchMedia("(prefers-reduced-motion: reduce)").matches||e.includes("none")||e.includes("height 0s")}function kt(t){return kt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kt(t)}function Ct(){Ct=function(){return e};var t,e={},r=Object.prototype,i=r.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,r){return t[e]=r}}function u(t,e,r,i){var o=e&&e.prototype instanceof v?e:v,s=Object.create(o.prototype),a=new L(i||[]);return n(s,"_invoke",{value:N(t,r,a)}),s}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=u;var d="suspendedStart",p="suspendedYield",f="executing",g="completed",m={};function v(){}function y(){}function b(){}var w={};c(w,s,(function(){return this}));var _=Object.getPrototypeOf,x=_&&_(_(R([])));x&&x!==r&&i.call(x,s)&&(w=x);var E=b.prototype=v.prototype=Object.create(w);function k(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function C(t,e){function r(n,o,s,a){var l=h(t[n],t,o);if("throw"!==l.type){var c=l.arg,u=c.value;return u&&"object"==kt(u)&&i.call(u,"__await")?e.resolve(u.__await).then((function(t){r("next",t,s,a)}),(function(t){r("throw",t,s,a)})):e.resolve(u).then((function(t){c.value=t,s(c)}),(function(t){return r("throw",t,s,a)}))}a(l.arg)}var o;n(this,"_invoke",{value:function(t,i){function n(){return new e((function(e,n){r(t,i,e,n)}))}return o=o?o.then(n,n):n()}})}function N(e,r,i){var n=d;return function(o,s){if(n===f)throw new Error("Generator is already running");if(n===g){if("throw"===o)throw s;return{value:t,done:!0}}for(i.method=o,i.arg=s;;){var a=i.delegate;if(a){var l=S(a,i);if(l){if(l===m)continue;return l}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(n===d)throw n=g,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);n=f;var c=h(e,r,i);if("normal"===c.type){if(n=i.done?g:p,c.arg===m)continue;return{value:c.arg,done:i.done}}"throw"===c.type&&(n=g,i.method="throw",i.arg=c.arg)}}}function S(e,r){var i=r.method,n=e.iterator[i];if(n===t)return r.delegate=null,"throw"===i&&e.iterator.return&&(r.method="return",r.arg=t,S(e,r),"throw"===r.method)||"return"!==i&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+i+"' method")),m;var o=h(n,e.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,m;var s=o.arg;return s?s.done?(r[e.resultName]=s.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,m):s:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function j(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function R(e){if(e||""===e){var r=e[s];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function r(){for(;++n<e.length;)if(i.call(e,n))return r.value=e[n],r.done=!1,r;return r.value=t,r.done=!0,r};return o.next=o}}throw new TypeError(kt(e)+" is not iterable")}return y.prototype=b,n(E,"constructor",{value:b,configurable:!0}),n(b,"constructor",{value:y,configurable:!0}),y.displayName=c(b,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,c(t,l,"GeneratorFunction")),t.prototype=Object.create(E),t},e.awrap=function(t){return{__await:t}},k(C.prototype),c(C.prototype,a,(function(){return this})),e.AsyncIterator=C,e.async=function(t,r,i,n,o){void 0===o&&(o=Promise);var s=new C(u(t,r,i,n),o);return e.isGeneratorFunction(r)?s:s.next().then((function(t){return t.done?t.value:s.next()}))},k(E),c(E,l,"Generator"),c(E,s,(function(){return this})),c(E,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var i in e)r.push(i);return r.reverse(),function t(){for(;r.length;){var i=r.pop();if(i in e)return t.value=i,t.done=!1,t}return t.done=!0,t}},e.values=R,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(j),!e)for(var r in this)"t"===r.charAt(0)&&i.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function n(i,n){return a.type="throw",a.arg=e,r.next=i,n&&(r.method="next",r.arg=t),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var s=this.tryEntries[o],a=s.completion;if("root"===s.tryLoc)return n("end");if(s.tryLoc<=this.prev){var l=i.call(s,"catchLoc"),c=i.call(s,"finallyLoc");if(l&&c){if(this.prev<s.catchLoc)return n(s.catchLoc,!0);if(this.prev<s.finallyLoc)return n(s.finallyLoc)}else if(l){if(this.prev<s.catchLoc)return n(s.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return n(s.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&i.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=t,s.arg=e,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),j(r),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var i=r.completion;if("throw"===i.type){var n=i.arg;j(r)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,i){return this.delegate={iterator:R(e),resultName:r,nextLoc:i},"next"===this.method&&(this.arg=t),m}},e}function Nt(t,e,r,i,n,o,s){try{var a=t[o](s),l=a.value}catch(t){return void r(t)}a.done?e(l):Promise.resolve(l).then(i,n)}const St={components:{Collapse:(0,i.defineComponent)({inheritAttrs:!0,__name:"Collapse",props:{when:{type:Boolean},baseHeight:{default:0},as:{default:"div"}},emits:["collapse","expand","collapsed","expanded"],setup(t,{emit:e}){const r=t,n=(0,i.toRef)(r,"when"),o=(0,i.toRef)(r,"baseHeight"),s=(0,i.computed)((()=>({overflow:"hidden",height:`${o.value}px`}))),a=(0,i.computed)((()=>({...yt,...0===o.value?{display:"none"}:s.value}))),l=(0,i.ref)(null),c=(0,i.ref)(n.value?"expanded":"collapsed"),u=t=>c.value=t,h=(0,i.shallowRef)({}),d=t=>h.value=t,p=t=>d({...h.value,...t}),f=(0,i.ref)(300),g=(0,i.computed)((()=>({[mt]:`${f.value}ms`})));function m(){d(yt),u("expanded"),e("expanded")}function v(){d(a.value),u("collapsed"),e("collapsed")}function y(t){var e;t.target===l.value&&"height"===t.propertyName&&(n.value?(null==(e=l.value)?void 0:e.scrollHeight)===wt(l)&&m():o.value===wt(l)&&v())}return(0,i.onMounted)((()=>{if(!l.value)return;n.value||0!==o.value||d(bt);const t=function(t=0){if(0===t)return 0;const e=t/36,r=Math.round(10*(4+15*e**.25+e/5));return Number.isFinite(r)?r:0}(l.value.scrollHeight-o.value);var e;e=t<=0?300:t,f.value=e,d(n.value?yt:a.value)})),(0,i.watch)(n,(t=>{if(t){if(Et(l))return m();u("expanding"),e("expand"),d({...yt,...s.value,...g.value}),requestAnimationFrame((()=>{p({..._t(l),...xt(l),willChange:"height"})}))}else{if(Et(l))return v();u("collapsing"),e("collapse"),p({...g.value,..._t(l)}),requestAnimationFrame((()=>{p({...s.value,...xt(l),willChange:"height"})}))}})),(0,i.watch)(o,(t=>{n.value||p(t>0?{display:void 0,height:`${t}px`}:{display:"none"})})),(t,e)=>((0,i.openBlock)(),(0,i.createBlock)((0,i.resolveDynamicComponent)(r.as),{ref_key:"collapseRef",ref:l,style:(0,i.normalizeStyle)(h.value),onTransitionend:y,"data-collapse":c.value},{default:(0,i.withCtx)((()=>[(0,i.renderSlot)(t.$slots,"default",(0,i.normalizeProps)((0,i.guardReactiveProps)({state:c.value})))])),_:3},40,["style","data-collapse"]))}})},mixins:[C,gt],emits:["filter-changed","toggle"],props:["views","activeView","filters","columns","resource","resourceName","viaResource","viaResourceId","viaRelationship"],data:function(){return{expanded:!1}},watch:{activeView:{immediate:!0,handler:function(t){this.updateQueryString({view:t.key})}}},methods:{clearFilters:function(){this.clearSelectedFilters(),this.notify()},onChange:function(){this.filterChanged(),this.notify()},notify:function(){Nova.$emit("".concat(this.resourceName,"-updated"),this.$store.getters["".concat(this.resourceName,"/currentEncodedFilters")],this.resource)},onViewToggle:function(t){var e=this;this.$emit("toggle",t),this.$nextTick((function(){return e.initializeState()})),!1===this.expanded&&(this.expanded=!this.filtersAreApplied)}},computed:{filtersAreApplied:function(){return this.$store.getters["".concat(this.resourceName,"/filtersAreApplied")]},initialEncodedFilters:function(){return this.queryStringParams[this.filterParameter]||""},pageParameter:function(){return 0}},created:function(){var t,e=this;return(t=Ct().mark((function t(){return Ct().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.initializeState();case 2:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(i,n){var o=t.apply(e,r);function s(t){Nt(o,i,n,s,a,"next",t)}function a(t){Nt(o,i,n,s,a,"throw",t)}s(void 0)}))})()},beforeMount:function(){this.expanded=this.filtersAreApplied}};var Ot=r(3379),jt=r.n(Ot),Lt=r(7785),Rt={insert:"head",singleton:!1};jt()(Lt.Z,Rt);Lt.Z.locals;var zt=r(3744);const Dt=(0,zt.Z)(St,[["render",function(t,e,r,n,o,s){var m=(0,i.resolveComponent)("Icon"),v=(0,i.resolveComponent)("BasicButton"),y=(0,i.resolveComponent)("DropdownTrigger"),b=(0,i.resolveComponent)("DropdownMenuItem"),w=(0,i.resolveComponent)("ScrollWrap"),_=(0,i.resolveComponent)("DropdownMenu"),x=(0,i.resolveComponent)("Dropdown"),E=(0,i.resolveComponent)("Collapse"),k=(0,i.resolveComponent)("Card");return(0,i.openBlock)(),(0,i.createBlock)(k,{class:(0,i.normalizeClass)(["nova-dashboard-filter mb-4 transition-padding",{"--active px-1 pb-1":s.filtersAreApplied,"px-1":!s.filtersAreApplied,"--expanded":o.expanded}]),style:(0,i.normalizeStyle)({"--columns-desktop":r.columns||2})},{default:(0,i.withCtx)((function(){return[(0,i.createElementVNode)("div",{class:(0,i.normalizeClass)([{"h-11":o.expanded,"h-14":!o.expanded},"w-full flex items-center flex transition-height"])},[(0,i.createVNode)(x,{class:""},{menu:(0,i.withCtx)((function(){return[(0,i.createVNode)(_,{width:"auto",class:"px-1"},{default:(0,i.withCtx)((function(){return[(0,i.createVNode)(w,{height:250,class:"divide-y divide-gray-100 dark:divide-gray-800 divide-solid"},{default:(0,i.withCtx)((function(){return[r.views.length>0?((0,i.openBlock)(),(0,i.createElementBlock)("div",u,[((0,i.openBlock)(!0),(0,i.createElementBlock)(i.Fragment,null,(0,i.renderList)(r.views,(function(t){return(0,i.openBlock)(),(0,i.createBlock)(b,{key:t.key,as:"button",class:"border-none",onClick:function(){return s.onViewToggle(t)},title:t.name},{default:(0,i.withCtx)((function(){return[(0,i.createTextVNode)((0,i.toDisplayString)(t.name),1)]})),_:2},1032,["onClick","title"])})),128))])):(0,i.createCommentVNode)("",!0)]})),_:1})]})),_:1})]})),default:(0,i.withCtx)((function(){return[(0,i.renderSlot)(t.$slots,"sr-only",{},(function(){return[(0,i.createElementVNode)("span",a,(0,i.toDisplayString)(t.__("Views")),1)]}),!0),(0,i.createVNode)(y,{"show-arrow":!1,class:(0,i.normalizeClass)([{"hover:text-gray-600 dark:hover:text-gray-500":!s.filtersAreApplied&&!1===o.expanded,"hover:bg-gray-200 dark:hover:bg-gray-800":!s.filtersAreApplied&&!0===o.expanded,"text-white hover:bg-primary-400 dark:hover:bg-primary-600 dark:text-gray-800":s.filtersAreApplied},"rounded focus:outline-none focus:ring"])},{default:(0,i.withCtx)((function(){return[(0,i.createVNode)(v,{class:"flex items-center"},{default:(0,i.withCtx)((function(){var t;return[(0,i.createElementVNode)("div",l,[null!==(t=r.activeView.icon)&&void 0!==t&&null!==(t=t.trim())&&void 0!==t&&t.startsWith("<svg")?((0,i.openBlock)(),(0,i.createElementBlock)("div",{key:0,innerHTML:r.activeView.icon},null,8,c)):((0,i.openBlock)(),(0,i.createBlock)(m,{key:1,solid:!0,type:r.activeView.icon},null,8,["type"]))]),(0,i.createElementVNode)("div",null,(0,i.toDisplayString)(r.activeView.name),1)]})),_:1})]})),_:1},8,["class"])]})),_:3}),(0,i.createElementVNode)("div",h,[s.filtersAreApplied?(0,i.createCommentVNode)("",!0):((0,i.openBlock)(),(0,i.createElementBlock)("button",{key:0,class:"pb-1 pt-2 w-full block text-xs uppercase tracking-wide text-center font-bold focus:outline-none relative flex justify-end items-center",onClick:e[0]||(e[0]=function(t){return o.expanded=!o.expanded})},[(0,i.createElementVNode)("div",null,(0,i.toDisplayString)(t.__("Filters")),1),(0,i.createVNode)(m,{type:"chevron-down",width:"14",class:(0,i.normalizeClass)(["ml-1 transition-all",{"rotate-180":o.expanded}])},null,8,["class"])])),s.filtersAreApplied?((0,i.openBlock)(),(0,i.createElementBlock)("div",d,[(0,i.createElementVNode)("button",{class:"py-2 ml-auto block text-xs uppercase tracking-wide font-bold focus:outline-none cursor-pointer",onClick:e[1]||(e[1]=function(){return s.clearFilters&&s.clearFilters.apply(s,arguments)})},(0,i.toDisplayString)(t.__("Reset Filters")),1)])):(0,i.createCommentVNode)("",!0)])],2),(0,i.createVNode)(E,{when:o.expanded},{default:(0,i.withCtx)((function(){return[(0,i.createElementVNode)("div",p,[r.activeView&&r.activeView.filters.length?((0,i.openBlock)(),(0,i.createElementBlock)("div",f,[(0,i.createElementVNode)("div",g,[((0,i.openBlock)(!0),(0,i.createElementBlock)(i.Fragment,null,(0,i.renderList)(r.activeView.filters,(function(t){return(0,i.openBlock)(),(0,i.createElementBlock)("div",{key:t.name,class:"filter__loop"},[((0,i.openBlock)(),(0,i.createBlock)((0,i.resolveDynamicComponent)(t.component),{"filter-key":t.class,"resource-name":r.resourceName,onChange:s.onChange,onInput:s.onChange},null,40,["filter-key","resource-name","onChange","onInput"]))])})),128))])])):(0,i.createCommentVNode)("",!0)]),(0,i.createVNode)(E,{when:!s.filtersAreApplied},{default:(0,i.withCtx)((function(){return[(0,i.createElementVNode)("div",{class:"flex justify-center items-center cursor-pointer pb-1",onClick:e[2]||(e[2]=function(t){return o.expanded=!o.expanded})},[(0,i.createVNode)(m,{type:"chevron-up",height:"12",class:"translate-y-[2px]"})])]})),_:1},8,["when"])]})),_:1},8,["when"])]})),_:3},8,["style","class"])}],["__scopeId","data-v-6f6c4c78"]]),At=Dt;var Mt=r(3733),Tt=r.n(Mt),Pt=r(1423),Ht=r.n(Pt),It=r(9964),$t=r.n(It),Gt=r(2725),Bt=r.n(Gt),Ft=r(8392),Ut=r.n(Ft),Wt=r(3810),Vt=r.n(Wt);function Yt(t){return Yt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yt(t)}function qt(){qt=function(){return e};var t,e={},r=Object.prototype,i=r.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,r){return t[e]=r}}function u(t,e,r,i){var o=e&&e.prototype instanceof v?e:v,s=Object.create(o.prototype),a=new L(i||[]);return n(s,"_invoke",{value:N(t,r,a)}),s}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=u;var d="suspendedStart",p="suspendedYield",f="executing",g="completed",m={};function v(){}function y(){}function b(){}var w={};c(w,s,(function(){return this}));var _=Object.getPrototypeOf,x=_&&_(_(R([])));x&&x!==r&&i.call(x,s)&&(w=x);var E=b.prototype=v.prototype=Object.create(w);function k(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function C(t,e){function r(n,o,s,a){var l=h(t[n],t,o);if("throw"!==l.type){var c=l.arg,u=c.value;return u&&"object"==Yt(u)&&i.call(u,"__await")?e.resolve(u.__await).then((function(t){r("next",t,s,a)}),(function(t){r("throw",t,s,a)})):e.resolve(u).then((function(t){c.value=t,s(c)}),(function(t){return r("throw",t,s,a)}))}a(l.arg)}var o;n(this,"_invoke",{value:function(t,i){function n(){return new e((function(e,n){r(t,i,e,n)}))}return o=o?o.then(n,n):n()}})}function N(e,r,i){var n=d;return function(o,s){if(n===f)throw new Error("Generator is already running");if(n===g){if("throw"===o)throw s;return{value:t,done:!0}}for(i.method=o,i.arg=s;;){var a=i.delegate;if(a){var l=S(a,i);if(l){if(l===m)continue;return l}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(n===d)throw n=g,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);n=f;var c=h(e,r,i);if("normal"===c.type){if(n=i.done?g:p,c.arg===m)continue;return{value:c.arg,done:i.done}}"throw"===c.type&&(n=g,i.method="throw",i.arg=c.arg)}}}function S(e,r){var i=r.method,n=e.iterator[i];if(n===t)return r.delegate=null,"throw"===i&&e.iterator.return&&(r.method="return",r.arg=t,S(e,r),"throw"===r.method)||"return"!==i&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+i+"' method")),m;var o=h(n,e.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,m;var s=o.arg;return s?s.done?(r[e.resultName]=s.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,m):s:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function j(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function R(e){if(e||""===e){var r=e[s];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function r(){for(;++n<e.length;)if(i.call(e,n))return r.value=e[n],r.done=!1,r;return r.value=t,r.done=!0,r};return o.next=o}}throw new TypeError(Yt(e)+" is not iterable")}return y.prototype=b,n(E,"constructor",{value:b,configurable:!0}),n(b,"constructor",{value:y,configurable:!0}),y.displayName=c(b,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,c(t,l,"GeneratorFunction")),t.prototype=Object.create(E),t},e.awrap=function(t){return{__await:t}},k(C.prototype),c(C.prototype,a,(function(){return this})),e.AsyncIterator=C,e.async=function(t,r,i,n,o){void 0===o&&(o=Promise);var s=new C(u(t,r,i,n),o);return e.isGeneratorFunction(r)?s:s.next().then((function(t){return t.done?t.value:s.next()}))},k(E),c(E,l,"Generator"),c(E,s,(function(){return this})),c(E,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var i in e)r.push(i);return r.reverse(),function t(){for(;r.length;){var i=r.pop();if(i in e)return t.value=i,t.done=!1,t}return t.done=!0,t}},e.values=R,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(j),!e)for(var r in this)"t"===r.charAt(0)&&i.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function n(i,n){return a.type="throw",a.arg=e,r.next=i,n&&(r.method="next",r.arg=t),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var s=this.tryEntries[o],a=s.completion;if("root"===s.tryLoc)return n("end");if(s.tryLoc<=this.prev){var l=i.call(s,"catchLoc"),c=i.call(s,"finallyLoc");if(l&&c){if(this.prev<s.catchLoc)return n(s.catchLoc,!0);if(this.prev<s.finallyLoc)return n(s.finallyLoc)}else if(l){if(this.prev<s.catchLoc)return n(s.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return n(s.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&i.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=t,s.arg=e,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),j(r),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var i=r.completion;if("throw"===i.type){var n=i.arg;j(r)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,i){return this.delegate={iterator:R(e),resultName:r,nextLoc:i},"next"===this.method&&(this.arg=t),m}},e}function Qt(t,e,r,i,n,o,s){try{var a=t[o](s),l=a.value}catch(t){return void r(t)}a.done?e(l):Promise.resolve(l).then(i,n)}function Zt(t){return function(){var e=this,r=arguments;return new Promise((function(i,n){var o=t.apply(e,r);function s(t){Qt(o,i,n,s,a,"next",t)}function a(t){Qt(o,i,n,s,a,"throw",t)}s(void 0)}))}}function Xt(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==Yt(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var i=r.call(t,e||"default");if("object"!==Yt(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Yt(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}const Kt={namespaced:!0,state:function(){return{filters:[],originalFilters:[]}},getters:{filters:function(t){return t.filters},originalFilters:function(t){return t.originalFilters},hasFilters:function(t){return Boolean(t.filters.length>0)},currentFilters:function(t,e){return Ut()(Bt()(t.filters),(function(t){return Xt({},t.class,t.currentValue)}))},currentEncodedFilters:function(t,e){return btoa(JSON.stringify(e.currentFilters).replace(/[^\0-~]/g,(function(t){return"\\u"+("000"+t.charCodeAt().toString(16)).slice(-4)})))},filtersAreApplied:function(t,e){return e.activeFilterCount>0},activeFilterCount:function(t,e){return Vt()(t.filters,(function(t,r){var i=e.getOriginalFilter(r.class),n=JSON.stringify(i.currentValue);return JSON.stringify(r.currentValue)==n?t:t+1}),0)},getFilter:function(t){return function(e){return $t()(t.filters,(function(t){return t.class==e}))}},getOriginalFilter:function(t){return function(e){return $t()(t.originalFilters,(function(t){return t.class==e}))}},getOptionsForFilter:function(t,e){return function(t){var r=e.getFilter(t);return r?r.options:[]}},filterOptionValue:function(t,e){return function(t,r){var i=e.getFilter(t);return $t()(i.currentValue,(function(t,e){return e==r}))}}},actions:{fetchFilters:function(t,e){return Zt(qt().mark((function r(){var i,n,o,s,a,l,c,u,h,d,p;return qt().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(i=t.commit,t.state,n=e.resourceName,o=e.lens,s=void 0!==o&&o,a=e.viaResource,l=e.viaResourceId,c=e.viaRelationship,u=e.relationshipType,h={params:{viaResource:a,viaResourceId:l,viaRelationship:c,relationshipType:u}},!s){r.next=10;break}return r.next=7,Nova.request().get("/nova-api/"+n+"/lens/"+s+"/filters",h);case 7:r.t0=r.sent,r.next=13;break;case 10:return r.next=12,Nova.request().get("/nova-api/"+n+"/filters",h);case 12:r.t0=r.sent;case 13:d=r.t0,p=d.data,i("storeFilters",p);case 16:case"end":return r.stop()}}),r)})))()},resetFilterState:function(t){return Zt(qt().mark((function e(){var r,i;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.commit,i=t.getters,Ht()(i.originalFilters,(function(t){r("updateFilterState",{filterClass:t.class,value:t.currentValue})}));case 2:case"end":return e.stop()}}),e)})))()},initializeCurrentFilterValuesFromQueryString:function(t,e){return Zt(qt().mark((function r(){var i,n;return qt().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:i=t.commit,t.getters,e&&(n=JSON.parse(atob(e)),Ht()(n,(function(t){if(t.hasOwnProperty("class")&&t.hasOwnProperty("value"))i("updateFilterState",{filterClass:t.class,value:t.value});else for(var e in t)i("updateFilterState",{filterClass:e,value:t[e]})})));case 2:case"end":return r.stop()}}),r)})))()}},mutations:{updateFilterState:function(t,e){var r=e.filterClass,i=e.value,n=$t()(t.filters,(function(t){return t.class==r}));null!=n&&(n.currentValue=i)},storeFilters:function(t,e){t.filters=e,t.originalFilters=Tt()(e)},clearFilters:function(t){t.filters=[],t.originalFilters=[]}}};class Jt{static getElements(t,e=document){if("string"==typeof t){const r="getElementById"in e?e:void 0;if(r&&!isNaN(+t[0])){const e=r.getElementById(t);return e?[e]:[]}let i=e.querySelectorAll(t);return i.length||"."===t[0]||"#"===t[0]||(i=e.querySelectorAll("."+t),i.length||(i=e.querySelectorAll("#"+t))),Array.from(i)}return[t]}static getElement(t,e=document){if("string"==typeof t){const r="getElementById"in e?e:void 0;if(!t.length)return null;if(r&&"#"===t[0])return r.getElementById(t.substring(1));if("#"===t[0]||"."===t[0]||"["===t[0])return e.querySelector(t);if(r&&!isNaN(+t[0]))return r.getElementById(t);let i=e.querySelector(t);return r&&!i&&(i=r.getElementById(t)),i||(i=e.querySelector("."+t)),i}return t}static shouldSizeToContent(t){return t?.grid&&(!!t.sizeToContent||t.grid.opts.sizeToContent&&!1!==t.sizeToContent)}static isIntercepted(t,e){return!(t.y>=e.y+e.h||t.y+t.h<=e.y||t.x+t.w<=e.x||t.x>=e.x+e.w)}static isTouching(t,e){return Jt.isIntercepted(t,{x:e.x-.5,y:e.y-.5,w:e.w+1,h:e.h+1})}static areaIntercept(t,e){let r=t.x>e.x?t.x:e.x,i=t.x+t.w<e.x+e.w?t.x+t.w:e.x+e.w;if(i<=r)return 0;let n=t.y>e.y?t.y:e.y,o=t.y+t.h<e.y+e.h?t.y+t.h:e.y+e.h;return o<=n?0:(i-r)*(o-n)}static area(t){return t.w*t.h}static sort(t,e=1,r){return r=r||t.reduce(((t,e)=>Math.max(e.x+e.w,t)),0)||12,-1===e?t.sort(((t,e)=>(e.x??1e3)+(e.y??1e3)*r-((t.x??1e3)+(t.y??1e3)*r))):t.sort(((t,e)=>(t.x??1e3)+(t.y??1e3)*r-((e.x??1e3)+(e.y??1e3)*r)))}static find(t,e){return e?t.find((t=>t.id===e)):void 0}static createStylesheet(t,e,r){let i=document.createElement("style");const n=r?.nonce;return n&&(i.nonce=n),i.setAttribute("type","text/css"),i.setAttribute("gs-style-id",t),i.styleSheet?i.styleSheet.cssText="":i.appendChild(document.createTextNode("")),e?e.insertBefore(i,e.firstChild):(e=document.getElementsByTagName("head")[0]).appendChild(i),i.sheet}static removeStylesheet(t){let e=document.querySelector("STYLE[gs-style-id="+t+"]");e&&e.parentNode&&e.remove()}static addCSSRule(t,e,r){"function"==typeof t.addRule?t.addRule(e,r):"function"==typeof t.insertRule&&t.insertRule(`${e}{${r}}`)}static toBool(t){return"boolean"==typeof t?t:"string"==typeof t?!(""===(t=t.toLowerCase())||"no"===t||"false"===t||"0"===t):Boolean(t)}static toNumber(t){return null===t||0===t.length?void 0:Number(t)}static parseHeight(t){let e,r="px";if("string"==typeof t)if("auto"===t)e=0;else{let i=t.match(/^(-[0-9]+\.[0-9]+|[0-9]*\.[0-9]+|-[0-9]+|[0-9]+)(px|em|rem|vh|vw|%)?$/);if(!i)throw new Error("Invalid height");r=i[2]||"px",e=parseFloat(i[1])}else e=t;return{h:e,unit:r}}static defaults(t,...e){return e.forEach((e=>{for(const r in e){if(!e.hasOwnProperty(r))return;null===t[r]||void 0===t[r]?t[r]=e[r]:"object"==typeof e[r]&&"object"==typeof t[r]&&this.defaults(t[r],e[r])}})),t}static same(t,e){if("object"!=typeof t)return t==e;if(typeof t!=typeof e)return!1;if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}static copyPos(t,e,r=!1){return void 0!==e.x&&(t.x=e.x),void 0!==e.y&&(t.y=e.y),void 0!==e.w&&(t.w=e.w),void 0!==e.h&&(t.h=e.h),r&&(e.minW&&(t.minW=e.minW),e.minH&&(t.minH=e.minH),e.maxW&&(t.maxW=e.maxW),e.maxH&&(t.maxH=e.maxH)),t}static samePos(t,e){return t&&e&&t.x===e.x&&t.y===e.y&&(t.w||1)===(e.w||1)&&(t.h||1)===(e.h||1)}static sanitizeMinMax(t){t.minW||delete t.minW,t.minH||delete t.minH,t.maxW||delete t.maxW,t.maxH||delete t.maxH}static removeInternalAndSame(t,e){if("object"==typeof t&&"object"==typeof e)for(let r in t){let i=t[r];if("_"===r[0]||i===e[r])delete t[r];else if(i&&"object"==typeof i&&void 0!==e[r]){for(let t in i)i[t]!==e[r][t]&&"_"!==t[0]||delete i[t];Object.keys(i).length||delete t[r]}}}static removeInternalForSave(t,e=!0){for(let e in t)"_"!==e[0]&&null!==t[e]&&void 0!==t[e]||delete t[e];delete t.grid,e&&delete t.el,t.autoPosition||delete t.autoPosition,t.noResize||delete t.noResize,t.noMove||delete t.noMove,t.locked||delete t.locked,1!==t.w&&t.w!==t.minW||delete t.w,1!==t.h&&t.h!==t.minH||delete t.h}static throttle(t,e){let r=!1;return(...i)=>{r||(r=!0,setTimeout((()=>{t(...i),r=!1}),e))}}static removePositioningStyles(t){let e=t.style;e.position&&e.removeProperty("position"),e.left&&e.removeProperty("left"),e.top&&e.removeProperty("top"),e.width&&e.removeProperty("width"),e.height&&e.removeProperty("height")}static getScrollElement(t){if(!t)return document.scrollingElement||document.documentElement;const e=getComputedStyle(t);return/(auto|scroll)/.test(e.overflow+e.overflowY)?t:this.getScrollElement(t.parentElement)}static updateScrollPosition(t,e,r){let i=t.getBoundingClientRect(),n=window.innerHeight||document.documentElement.clientHeight;if(i.top<0||i.bottom>n){let o=i.bottom-n,s=i.top,a=this.getScrollElement(t);if(null!==a){let l=a.scrollTop;i.top<0&&r<0?t.offsetHeight>n?a.scrollTop+=r:a.scrollTop+=Math.abs(s)>Math.abs(r)?r:s:r>0&&(t.offsetHeight>n?a.scrollTop+=r:a.scrollTop+=o>r?r:o),e.top+=a.scrollTop-l}}}static updateScrollResize(t,e,r){const i=this.getScrollElement(e),n=i.clientHeight,o=i===this.getScrollElement()?0:i.getBoundingClientRect().top,s=t.clientY-o,a=s>n-r;s<r?i.scrollBy({behavior:"smooth",top:s-r}):a&&i.scrollBy({behavior:"smooth",top:r-(n-s)})}static clone(t){return null==t||"object"!=typeof t?t:t instanceof Array?[...t]:{...t}}static cloneDeep(t){const e=["parentGrid","el","grid","subGrid","engine"],r=Jt.clone(t);for(const i in r)r.hasOwnProperty(i)&&"object"==typeof r[i]&&"__"!==i.substring(0,2)&&!e.find((t=>t===i))&&(r[i]=Jt.cloneDeep(t[i]));return r}static cloneNode(t){const e=t.cloneNode(!0);return e.removeAttribute("id"),e}static appendTo(t,e){let r;r="string"==typeof e?Jt.getElement(e):e,r&&r.appendChild(t)}static addElStyles(t,e){if(e instanceof Object)for(const r in e)e.hasOwnProperty(r)&&(Array.isArray(e[r])?e[r].forEach((e=>{t.style[r]=e})):t.style[r]=e[r])}static initEvent(t,e){const r={type:e.type},i={button:0,which:0,buttons:1,bubbles:!0,cancelable:!0,target:e.target?e.target:t.target};return t.dataTransfer&&(r.dataTransfer=t.dataTransfer),["altKey","ctrlKey","metaKey","shiftKey"].forEach((e=>r[e]=t[e])),["pageX","pageY","clientX","clientY","screenX","screenY"].forEach((e=>r[e]=t[e])),{...r,...i}}static simulateMouseEvent(t,e,r){const i=document.createEvent("MouseEvents");i.initMouseEvent(e,!0,!0,window,1,t.screenX,t.screenY,t.clientX,t.clientY,t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,0,t.target),(r||t.target).dispatchEvent(i)}}class te{constructor(t={}){this.addedNodes=[],this.removedNodes=[],this.column=t.column||12,this.maxRow=t.maxRow,this._float=t.float,this.nodes=t.nodes||[],this.onChange=t.onChange}batchUpdate(t=!0,e=!0){return!!this.batchMode===t||(this.batchMode=t,t?(this._prevFloat=this._float,this._float=!0,this.cleanNodes(),this.saveInitial()):(this._float=this._prevFloat,delete this._prevFloat,e&&this._packNodes(),this._notify())),this}_useEntireRowArea(t,e){return(!this.float||this.batchMode&&!this._prevFloat)&&!this._hasLocked&&(!t._moving||t._skipDown||e.y<=t.y)}_fixCollisions(t,e=t,r,i={}){if(this.sortNodes(-1),!(r=r||this.collide(t,e)))return!1;if(t._moving&&!i.nested&&!this.float&&this.swap(t,r))return!0;let n=e;this._useEntireRowArea(t,e)&&(n={x:0,w:this.column,y:e.y,h:e.h},r=this.collide(t,n,i.skip));let o=!1,s={nested:!0,pack:!1};for(;r=r||this.collide(t,n,i.skip);){let n;if(r.locked||t._moving&&!t._skipDown&&e.y>t.y&&!this.float&&(!this.collide(r,{...r,y:t.y},t)||!this.collide(r,{...r,y:e.y-r.h},t))?(t._skipDown=t._skipDown||e.y>t.y,n=this.moveNode(t,{...e,y:r.y+r.h,...s}),r.locked&&n?Jt.copyPos(e,t):!r.locked&&n&&i.pack&&(this._packNodes(),e.y=r.y+r.h,Jt.copyPos(t,e)),o=o||n):n=this.moveNode(r,{...r,y:e.y+e.h,skip:t,...s}),!n)return o;r=void 0}return o}collide(t,e=t,r){const i=t._id,n=r?._id;return this.nodes.find((t=>t._id!==i&&t._id!==n&&Jt.isIntercepted(t,e)))}collideAll(t,e=t,r){const i=t._id,n=r?._id;return this.nodes.filter((t=>t._id!==i&&t._id!==n&&Jt.isIntercepted(t,e)))}directionCollideCoverage(t,e,r){if(!e.rect||!t._rect)return;let i,n=t._rect,o={...e.rect};o.y>n.y?(o.h+=o.y-n.y,o.y=n.y):o.h+=n.y-o.y,o.x>n.x?(o.w+=o.x-n.x,o.x=n.x):o.w+=n.x-o.x;let s=.5;return r.forEach((t=>{if(t.locked||!t._rect)return;let e=t._rect,r=Number.MAX_VALUE,a=Number.MAX_VALUE;n.y<e.y?r=(o.y+o.h-e.y)/e.h:n.y+n.h>e.y+e.h&&(r=(e.y+e.h-o.y)/e.h),n.x<e.x?a=(o.x+o.w-e.x)/e.w:n.x+n.w>e.x+e.w&&(a=(e.x+e.w-o.x)/e.w);let l=Math.min(a,r);l>s&&(s=l,i=t)})),e.collide=i,i}cacheRects(t,e,r,i,n,o){return this.nodes.forEach((s=>s._rect={y:s.y*e+r,x:s.x*t+o,w:s.w*t-o-i,h:s.h*e-r-n})),this}swap(t,e){if(!e||e.locked||!t||t.locked)return!1;function r(){let r=e.x,i=e.y;return e.x=t.x,e.y=t.y,t.h!=e.h?(t.x=r,t.y=e.y+e.h):t.w!=e.w?(t.x=e.x+e.w,t.y=i):(t.x=r,t.y=i),t._dirty=e._dirty=!0,!0}let i;if(t.w===e.w&&t.h===e.h&&(t.x===e.x||t.y===e.y)&&(i=Jt.isTouching(t,e)))return r();if(!1!==i){if(t.w===e.w&&t.x===e.x&&(i||(i=Jt.isTouching(t,e)))){if(e.y<t.y){let r=t;t=e,e=r}return r()}if(!1!==i){if(t.h===e.h&&t.y===e.y&&(i||(i=Jt.isTouching(t,e)))){if(e.x<t.x){let r=t;t=e,e=r}return r()}return!1}}}isAreaEmpty(t,e,r,i){let n={x:t||0,y:e||0,w:r||1,h:i||1};return!this.collide(n)}compact(t="compact",e=!0){if(0===this.nodes.length)return this;e&&this.sortNodes();const r=this.batchMode;r||this.batchUpdate();const i=this._inColumnResize;i||(this._inColumnResize=!0);let n=this.nodes;return this.nodes=[],n.forEach(((e,r,i)=>{let n;e.locked||(e.autoPosition=!0,"list"===t&&r&&(n=i[r-1])),this.addNode(e,!1,n)})),i||delete this._inColumnResize,r||this.batchUpdate(!1),this}set float(t){this._float!==t&&(this._float=t||!1,t||this._packNodes()._notify())}get float(){return this._float||!1}sortNodes(t=1,e=this.column){return this.nodes=Jt.sort(this.nodes,t,e),this}_packNodes(){return this.batchMode||(this.sortNodes(),this.float?this.nodes.forEach((t=>{if(t._updating||void 0===t._orig||t.y===t._orig.y)return;let e=t.y;for(;e>t._orig.y;){--e,this.collide(t,{x:t.x,y:e,w:t.w,h:t.h})||(t._dirty=!0,t.y=e)}})):this.nodes.forEach(((t,e)=>{if(!t.locked)for(;t.y>0;){let r=0===e?0:t.y-1;if(!(0===e||!this.collide(t,{x:t.x,y:r,w:t.w,h:t.h})))break;t._dirty=t.y!==r,t.y=r}}))),this}prepareNode(t,e){(t=t||{})._id=t._id??te._idSeq++,void 0!==t.x&&void 0!==t.y&&null!==t.x&&null!==t.y||(t.autoPosition=!0);let r={x:0,y:0,w:1,h:1};return Jt.defaults(t,r),t.autoPosition||delete t.autoPosition,t.noResize||delete t.noResize,t.noMove||delete t.noMove,Jt.sanitizeMinMax(t),"string"==typeof t.x&&(t.x=Number(t.x)),"string"==typeof t.y&&(t.y=Number(t.y)),"string"==typeof t.w&&(t.w=Number(t.w)),"string"==typeof t.h&&(t.h=Number(t.h)),isNaN(t.x)&&(t.x=r.x,t.autoPosition=!0),isNaN(t.y)&&(t.y=r.y,t.autoPosition=!0),isNaN(t.w)&&(t.w=r.w),isNaN(t.h)&&(t.h=r.h),this.nodeBoundFix(t,e)}nodeBoundFix(t,e){let r=t._orig||Jt.copyPos({},t);t.maxW&&(t.w=Math.min(t.w,t.maxW)),t.maxH&&(t.h=Math.min(t.h,t.maxH)),t.minW&&t.minW<=this.column&&(t.w=Math.max(t.w,t.minW)),t.minH&&(t.h=Math.max(t.h,t.minH));if((t.x||0)+(t.w||1)>this.column&&this.column<12&&!this._inColumnResize&&t._id&&-1===this.findCacheLayout(t,12)){let e={...t};e.autoPosition||void 0===e.x?(delete e.x,delete e.y):e.x=Math.min(11,e.x),e.w=Math.min(12,e.w||1),this.cacheOneLayout(e,12)}return t.w>this.column?t.w=this.column:t.w<1&&(t.w=1),this.maxRow&&t.h>this.maxRow?t.h=this.maxRow:t.h<1&&(t.h=1),t.x<0&&(t.x=0),t.y<0&&(t.y=0),t.x+t.w>this.column&&(e?t.w=this.column-t.x:t.x=this.column-t.w),this.maxRow&&t.y+t.h>this.maxRow&&(e?t.h=this.maxRow-t.y:t.y=this.maxRow-t.h),Jt.samePos(t,r)||(t._dirty=!0),t}getDirtyNodes(t){return t?this.nodes.filter((t=>t._dirty&&!Jt.samePos(t,t._orig))):this.nodes.filter((t=>t._dirty))}_notify(t){if(this.batchMode||!this.onChange)return this;let e=(t||[]).concat(this.getDirtyNodes());return this.onChange(e),this}cleanNodes(){return this.batchMode||this.nodes.forEach((t=>{delete t._dirty,delete t._lastTried})),this}saveInitial(){return this.nodes.forEach((t=>{t._orig=Jt.copyPos({},t),delete t._dirty})),this._hasLocked=this.nodes.some((t=>t.locked)),this}restoreInitial(){return this.nodes.forEach((t=>{Jt.samePos(t,t._orig)||(Jt.copyPos(t,t._orig),t._dirty=!0)})),this._notify(),this}findEmptyPosition(t,e=this.nodes,r=this.column,i){let n=!1;for(let o=i?i.y*r+(i.x+i.w):0;!n;++o){let i=o%r,s=Math.floor(o/r);if(i+t.w>r)continue;let a={x:i,y:s,w:t.w,h:t.h};e.find((t=>Jt.isIntercepted(a,t)))||(t.x===i&&t.y===s||(t._dirty=!0),t.x=i,t.y=s,delete t.autoPosition,n=!0)}return n}addNode(t,e=!1,r){let i,n=this.nodes.find((e=>e._id===t._id));return n||(delete(t=this._inColumnResize?this.nodeBoundFix(t):this.prepareNode(t))._temporaryRemoved,delete t._removeDOM,t.autoPosition&&this.findEmptyPosition(t,this.nodes,this.column,r)&&(delete t.autoPosition,i=!0),this.nodes.push(t),e&&this.addedNodes.push(t),i||this._fixCollisions(t),this.batchMode||this._packNodes()._notify(),t)}removeNode(t,e=!0,r=!1){return this.nodes.find((e=>e._id===t._id))?(r&&this.removedNodes.push(t),e&&(t._removeDOM=!0),this.nodes=this.nodes.filter((e=>e._id!==t._id)),t._isAboutToRemove||this._packNodes(),this._notify([t]),this):this}removeAll(t=!0){return delete this._layouts,this.nodes.length?(t&&this.nodes.forEach((t=>t._removeDOM=!0)),this.removedNodes=this.nodes,this.nodes=[],this._notify(this.removedNodes)):this}moveNodeCheck(t,e){if(!this.changedPosConstrain(t,e))return!1;if(e.pack=!0,!this.maxRow)return this.moveNode(t,e);let r,i=new te({column:this.column,float:this.float,nodes:this.nodes.map((e=>e._id===t._id?(r={...e},r):{...e}))});if(!r)return!1;let n=i.moveNode(r,e)&&i.getRow()<=Math.max(this.getRow(),this.maxRow);if(!n&&!e.resizing&&e.collide){let r=e.collide.el.gridstackNode;if(this.swap(t,r))return this._notify(),!0}return!!n&&(i.nodes.filter((t=>t._dirty)).forEach((t=>{let e=this.nodes.find((e=>e._id===t._id));e&&(Jt.copyPos(e,t),e._dirty=!0)})),this._notify(),!0)}willItFit(t){if(delete t._willFitPos,!this.maxRow)return!0;let e=new te({column:this.column,float:this.float,nodes:this.nodes.map((t=>({...t})))}),r={...t};return this.cleanupNode(r),delete r.el,delete r._id,delete r.content,delete r.grid,e.addNode(r),e.getRow()<=this.maxRow&&(t._willFitPos=Jt.copyPos({},r),!0)}changedPosConstrain(t,e){return e.w=e.w||t.w,e.h=e.h||t.h,t.x!==e.x||t.y!==e.y||(t.maxW&&(e.w=Math.min(e.w,t.maxW)),t.maxH&&(e.h=Math.min(e.h,t.maxH)),t.minW&&(e.w=Math.max(e.w,t.minW)),t.minH&&(e.h=Math.max(e.h,t.minH)),t.w!==e.w||t.h!==e.h)}moveNode(t,e){if(!t||!e)return!1;let r;void 0!==e.pack||this.batchMode||(r=e.pack=!0),"number"!=typeof e.x&&(e.x=t.x),"number"!=typeof e.y&&(e.y=t.y),"number"!=typeof e.w&&(e.w=t.w),"number"!=typeof e.h&&(e.h=t.h);let i=t.w!==e.w||t.h!==e.h,n=Jt.copyPos({},t,!0);if(Jt.copyPos(n,e),n=this.nodeBoundFix(n,i),Jt.copyPos(e,n),!e.forceCollide&&Jt.samePos(t,e))return!1;let o=Jt.copyPos({},t),s=this.collideAll(t,n,e.skip),a=!0;if(s.length){let i=t._moving&&!e.nested,o=i?this.directionCollideCoverage(t,e,s):s[0];if(i&&o&&t.grid?.opts?.subGridDynamic&&!t.grid._isTemp){let r=Jt.areaIntercept(e.rect,o._rect),i=Jt.area(e.rect),n=Jt.area(o._rect);r/(i<n?i:n)>.8&&(o.grid.makeSubGrid(o.el,void 0,t),o=void 0)}o?a=!this._fixCollisions(t,n,o,e):(a=!1,r&&delete e.pack)}return a&&(t._dirty=!0,Jt.copyPos(t,n)),e.pack&&this._packNodes()._notify(),!Jt.samePos(t,o)}getRow(){return this.nodes.reduce(((t,e)=>Math.max(t,e.y+e.h)),0)}beginUpdate(t){return t._updating||(t._updating=!0,delete t._skipDown,this.batchMode||this.saveInitial()),this}endUpdate(){let t=this.nodes.find((t=>t._updating));return t&&(delete t._updating,delete t._skipDown),this}save(t=!0,e){let r=this._layouts?.length,i=r&&this.column!==r-1?this._layouts[r-1]:null,n=[];return this.sortNodes(),this.nodes.forEach((r=>{let o=i?.find((t=>t._id===r._id)),s={...r,...o||{}};Jt.removeInternalForSave(s,!t),e&&e(r,s),n.push(s)})),n}layoutsNodesChange(t){return!this._layouts||this._inColumnResize||this._layouts.forEach(((e,r)=>{if(!e||r===this.column)return this;if(r<this.column)this._layouts[r]=void 0;else{let i=r/this.column;t.forEach((t=>{if(!t._orig)return;let r=e.find((e=>e._id===t._id));r&&(r.y>=0&&t.y!==t._orig.y&&(r.y+=t.y-t._orig.y),t.x!==t._orig.x&&(r.x=Math.round(t.x*i)),t.w!==t._orig.w&&(r.w=Math.round(t.w*i)))}))}})),this}columnChanged(t,e,r,i="moveScale"){if(!this.nodes.length||!e||t===e)return this;const n="compact"===i||"list"===i;n&&this.sortNodes(1,t),e<t&&this.cacheLayout(this.nodes,t),this.batchUpdate();let o=[],s=!1;if(1===e&&r?.length){s=!0;let t=0;r.forEach((e=>{e.x=0,e.w=1,e.y=Math.max(e.y,t),t=e.y+e.h})),o=r,r=[]}else r=n?this.nodes:Jt.sort(this.nodes,-1,t);if(e>t&&this._layouts){const i=this._layouts[e]||[];let s=this._layouts.length-1;!i.length&&t!==s&&this._layouts[s]?.length&&(t=s,this._layouts[s].forEach((t=>{let e=r.find((e=>e._id===t._id));e&&(n||t.autoPosition||(e.x=t.x??e.x,e.y=t.y??e.y),e.w=t.w??e.w,null!=t.x&&void 0!==t.y||(e.autoPosition=!0))}))),i.forEach((t=>{let e=r.findIndex((e=>e._id===t._id));if(-1!==e){const i=r[e];if(n)return void(i.w=t.w);(t.autoPosition||isNaN(t.x)||isNaN(t.y))&&this.findEmptyPosition(t,o),t.autoPosition||(i.x=t.x??i.x,i.y=t.y??i.y,i.w=t.w??i.w,o.push(i)),r.splice(e,1)}}))}if(n)this.compact(i,!1);else{if(r.length)if("function"==typeof i)i(e,t,o,r);else if(!s){let s=n||"none"===i?1:e/t,a="move"===i||"moveScale"===i,l="scale"===i||"moveScale"===i;r.forEach((r=>{r.x=1===e?0:a?Math.round(r.x*s):Math.min(r.x,e-1),r.w=1===e||1===t?1:l?Math.round(r.w*s)||1:Math.min(r.w,e),o.push(r)})),r=[]}s||(o=Jt.sort(o,-1,e)),this._inColumnResize=!0,this.nodes=[],o.forEach((t=>{this.addNode(t,!1),delete t._orig}))}return this.nodes.forEach((t=>delete t._orig)),this.batchUpdate(!1,!n),delete this._inColumnResize,this}cacheLayout(t,e,r=!1){let i=[];return t.forEach(((t,e)=>{t._id=t._id??te._idSeq++,i[e]={x:t.x,y:t.y,w:t.w,_id:t._id}})),this._layouts=r?[]:this._layouts||[],this._layouts[e]=i,this}cacheOneLayout(t,e){t._id=t._id??te._idSeq++;let r={x:t.x,y:t.y,w:t.w,_id:t._id};(t.autoPosition||void 0===t.x)&&(delete r.x,delete r.y,t.autoPosition&&(r.autoPosition=!0)),this._layouts=this._layouts||[],this._layouts[e]=this._layouts[e]||[];let i=this.findCacheLayout(t,e);return-1===i?this._layouts[e].push(r):this._layouts[e][i]=r,this}findCacheLayout(t,e){return this._layouts?.[e]?.findIndex((e=>e._id===t._id))??-1}removeNodeFromLayoutCache(t){if(this._layouts)for(let e=0;e<this._layouts.length;e++){let r=this.findCacheLayout(t,e);-1!==r&&this._layouts[e].splice(r,1)}}cleanupNode(t){for(let e in t)"_"===e[0]&&"_id"!==e&&delete t[e];return this}}te._idSeq=0;const ee={alwaysShowResizeHandle:"mobile",animate:!0,auto:!0,cellHeight:"auto",cellHeightThrottle:100,cellHeightUnit:"px",column:12,draggable:{handle:".grid-stack-item-content",appendTo:"body",scroll:!0},handle:".grid-stack-item-content",itemClass:"grid-stack-item",margin:10,marginUnit:"px",maxRow:0,minRow:0,oneColumnSize:768,placeholderClass:"grid-stack-placeholder",placeholderText:"",removableOptions:{accept:"grid-stack-item",decline:"grid-stack-non-removable"},resizable:{handles:"se"},rtl:"auto"},re={handle:".grid-stack-item-content",appendTo:"body"};class ie{}const ne="undefined"!=typeof window&&"undefined"!=typeof document&&("ontouchstart"in document||"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0);class oe{}function se(t,e){if(t.touches.length>1)return;t.cancelable&&t.preventDefault();const r=t.changedTouches[0],i=document.createEvent("MouseEvents");i.initMouseEvent(e,!0,!0,window,1,r.screenX,r.screenY,r.clientX,r.clientY,!1,!1,!1,!1,0,null),t.target.dispatchEvent(i)}function ae(t,e){t.cancelable&&t.preventDefault();const r=document.createEvent("MouseEvents");r.initMouseEvent(e,!0,!0,window,1,t.screenX,t.screenY,t.clientX,t.clientY,!1,!1,!1,!1,0,null),t.target.dispatchEvent(r)}function le(t){oe.touchHandled||(oe.touchHandled=!0,se(t,"mousedown"))}function ce(t){oe.touchHandled&&se(t,"mousemove")}function ue(t){if(!oe.touchHandled)return;oe.pointerLeaveTimeout&&(window.clearTimeout(oe.pointerLeaveTimeout),delete oe.pointerLeaveTimeout);const e=!!ie.dragElement;se(t,"mouseup"),e||se(t,"click"),oe.touchHandled=!1}function he(t){"mouse"!==t.pointerType&&t.target.releasePointerCapture(t.pointerId)}function de(t){ie.dragElement&&"mouse"!==t.pointerType&&ae(t,"mouseenter")}function pe(t){ie.dragElement&&"mouse"!==t.pointerType&&(oe.pointerLeaveTimeout=window.setTimeout((()=>{delete oe.pointerLeaveTimeout,ae(t,"mouseleave")}),10))}class fe{constructor(t,e,r){this.moving=!1,this.host=t,this.dir=e,this.option=r,this._mouseDown=this._mouseDown.bind(this),this._mouseMove=this._mouseMove.bind(this),this._mouseUp=this._mouseUp.bind(this),this._init()}_init(){const t=document.createElement("div");return t.classList.add("ui-resizable-handle"),t.classList.add(`${fe.prefix}${this.dir}`),t.style.zIndex="100",t.style.userSelect="none",this.el=t,this.host.appendChild(this.el),this.el.addEventListener("mousedown",this._mouseDown),ne&&(this.el.addEventListener("touchstart",le),this.el.addEventListener("pointerdown",he)),this}destroy(){return this.moving&&this._mouseUp(this.mouseDownEvent),this.el.removeEventListener("mousedown",this._mouseDown),ne&&(this.el.removeEventListener("touchstart",le),this.el.removeEventListener("pointerdown",he)),this.host.removeChild(this.el),delete this.el,delete this.host,this}_mouseDown(t){this.mouseDownEvent=t,document.addEventListener("mousemove",this._mouseMove,!0),document.addEventListener("mouseup",this._mouseUp,!0),ne&&(this.el.addEventListener("touchmove",ce),this.el.addEventListener("touchend",ue)),t.stopPropagation(),t.preventDefault()}_mouseMove(t){let e=this.mouseDownEvent;this.moving?this._triggerEvent("move",t):Math.abs(t.x-e.x)+Math.abs(t.y-e.y)>2&&(this.moving=!0,this._triggerEvent("start",this.mouseDownEvent),this._triggerEvent("move",t)),t.stopPropagation(),t.preventDefault()}_mouseUp(t){this.moving&&this._triggerEvent("stop",t),document.removeEventListener("mousemove",this._mouseMove,!0),document.removeEventListener("mouseup",this._mouseUp,!0),ne&&(this.el.removeEventListener("touchmove",ce),this.el.removeEventListener("touchend",ue)),delete this.moving,delete this.mouseDownEvent,t.stopPropagation(),t.preventDefault()}_triggerEvent(t,e){return this.option[t]&&this.option[t](e),this}}fe.prefix="ui-resizable-";class ge{constructor(){this._eventRegister={}}get disabled(){return this._disabled}on(t,e){this._eventRegister[t]=e}off(t){delete this._eventRegister[t]}enable(){this._disabled=!1}disable(){this._disabled=!0}destroy(){delete this._eventRegister}triggerEvent(t,e){if(!this.disabled&&this._eventRegister&&this._eventRegister[t])return this._eventRegister[t](e)}}class me extends ge{constructor(t,e={}){super(),this._ui=()=>{const t=this.el.parentElement.getBoundingClientRect(),e={width:this.originalRect.width,height:this.originalRect.height+this.scrolled,left:this.originalRect.left,top:this.originalRect.top-this.scrolled},r=this.temporalRect||e;return{position:{left:r.left-t.left,top:r.top-t.top},size:{width:r.width,height:r.height}}},this.el=t,this.option=e,this._mouseOver=this._mouseOver.bind(this),this._mouseOut=this._mouseOut.bind(this),this.enable(),this._setupAutoHide(this.option.autoHide),this._setupHandlers()}on(t,e){super.on(t,e)}off(t){super.off(t)}enable(){super.enable(),this.el.classList.remove("ui-resizable-disabled"),this._setupAutoHide(this.option.autoHide)}disable(){super.disable(),this.el.classList.add("ui-resizable-disabled"),this._setupAutoHide(!1)}destroy(){this._removeHandlers(),this._setupAutoHide(!1),delete this.el,super.destroy()}updateOption(t){let e=t.handles&&t.handles!==this.option.handles,r=t.autoHide&&t.autoHide!==this.option.autoHide;return Object.keys(t).forEach((e=>this.option[e]=t[e])),e&&(this._removeHandlers(),this._setupHandlers()),r&&this._setupAutoHide(this.option.autoHide),this}_setupAutoHide(t){return t?(this.el.classList.add("ui-resizable-autohide"),this.el.addEventListener("mouseover",this._mouseOver),this.el.addEventListener("mouseout",this._mouseOut)):(this.el.classList.remove("ui-resizable-autohide"),this.el.removeEventListener("mouseover",this._mouseOver),this.el.removeEventListener("mouseout",this._mouseOut),ie.overResizeElement===this&&delete ie.overResizeElement),this}_mouseOver(t){ie.overResizeElement||ie.dragElement||(ie.overResizeElement=this,this.el.classList.remove("ui-resizable-autohide"))}_mouseOut(t){ie.overResizeElement===this&&(delete ie.overResizeElement,this.el.classList.add("ui-resizable-autohide"))}_setupHandlers(){let t=this.option.handles||"e,s,se";return"all"===t&&(t="n,e,s,w,se,sw,ne,nw"),this.handlers=t.split(",").map((t=>t.trim())).map((t=>new fe(this.el,t,{start:t=>{this._resizeStart(t)},stop:t=>{this._resizeStop(t)},move:e=>{this._resizing(e,t)}}))),this}_resizeStart(t){this.originalRect=this.el.getBoundingClientRect(),this.scrollEl=Jt.getScrollElement(this.el),this.scrollY=this.scrollEl.scrollTop,this.scrolled=0,this.startEvent=t,this._setupHelper(),this._applyChange();const e=Jt.initEvent(t,{type:"resizestart",target:this.el});return this.option.start&&this.option.start(e,this._ui()),this.el.classList.add("ui-resizable-resizing"),this.triggerEvent("resizestart",e),this}_resizing(t,e){this.scrolled=this.scrollEl.scrollTop-this.scrollY,this.temporalRect=this._getChange(t,e),this._applyChange();const r=Jt.initEvent(t,{type:"resize",target:this.el});return this.option.resize&&this.option.resize(r,this._ui()),this.triggerEvent("resize",r),this}_resizeStop(t){const e=Jt.initEvent(t,{type:"resizestop",target:this.el});return this.option.stop&&this.option.stop(e),this.el.classList.remove("ui-resizable-resizing"),this.triggerEvent("resizestop",e),this._cleanHelper(),delete this.startEvent,delete this.originalRect,delete this.temporalRect,delete this.scrollY,delete this.scrolled,this}_setupHelper(){return this.elOriginStyleVal=me._originStyleProp.map((t=>this.el.style[t])),this.parentOriginStylePosition=this.el.parentElement.style.position,getComputedStyle(this.el.parentElement).position.match(/static/)&&(this.el.parentElement.style.position="relative"),this.el.style.position="absolute",this.el.style.opacity="0.8",this}_cleanHelper(){return me._originStyleProp.forEach(((t,e)=>{this.el.style[t]=this.elOriginStyleVal[e]||null})),this.el.parentElement.style.position=this.parentOriginStylePosition||null,this}_getChange(t,e){const r=this.startEvent,i={width:this.originalRect.width,height:this.originalRect.height+this.scrolled,left:this.originalRect.left,top:this.originalRect.top-this.scrolled},n=t.clientX-r.clientX,o=t.clientY-r.clientY;e.indexOf("e")>-1?i.width+=n:e.indexOf("w")>-1&&(i.width-=n,i.left+=n),e.indexOf("s")>-1?i.height+=o:e.indexOf("n")>-1&&(i.height-=o,i.top+=o);const s=this._constrainSize(i.width,i.height);return Math.round(i.width)!==Math.round(s.width)&&(e.indexOf("w")>-1&&(i.left+=i.width-s.width),i.width=s.width),Math.round(i.height)!==Math.round(s.height)&&(e.indexOf("n")>-1&&(i.top+=i.height-s.height),i.height=s.height),i}_constrainSize(t,e){const r=this.option.maxWidth||Number.MAX_SAFE_INTEGER,i=this.option.minWidth||t,n=this.option.maxHeight||Number.MAX_SAFE_INTEGER,o=this.option.minHeight||e;return{width:Math.min(r,Math.max(i,t)),height:Math.min(n,Math.max(o,e))}}_applyChange(){let t={left:0,top:0,width:0,height:0};if("absolute"===this.el.style.position){const e=this.el.parentElement,{left:r,top:i}=e.getBoundingClientRect();t={left:r,top:i,width:0,height:0}}return this.temporalRect?(Object.keys(this.temporalRect).forEach((e=>{const r=this.temporalRect[e];this.el.style[e]=r-t[e]+"px"})),this):this}_removeHandlers(){return this.handlers.forEach((t=>t.destroy())),delete this.handlers,this}}me._originStyleProp=["width","height","position","left","top","opacity","zIndex"];class ve extends ge{constructor(t,e={}){super(),this.el=t,this.option=e;let r=e.handle.substring(1);this.dragEl=t.classList.contains(r)?t:t.querySelector(e.handle)||t,this._mouseDown=this._mouseDown.bind(this),this._mouseMove=this._mouseMove.bind(this),this._mouseUp=this._mouseUp.bind(this),this.enable()}on(t,e){super.on(t,e)}off(t){super.off(t)}enable(){!1!==this.disabled&&(super.enable(),this.dragEl.addEventListener("mousedown",this._mouseDown),ne&&(this.dragEl.addEventListener("touchstart",le),this.dragEl.addEventListener("pointerdown",he)),this.el.classList.remove("ui-draggable-disabled"))}disable(t=!1){!0!==this.disabled&&(super.disable(),this.dragEl.removeEventListener("mousedown",this._mouseDown),ne&&(this.dragEl.removeEventListener("touchstart",le),this.dragEl.removeEventListener("pointerdown",he)),t||this.el.classList.add("ui-draggable-disabled"))}destroy(){this.dragTimeout&&window.clearTimeout(this.dragTimeout),delete this.dragTimeout,this.dragging&&this._mouseUp(this.mouseDownEvent),this.disable(!0),delete this.el,delete this.helper,delete this.option,super.destroy()}updateOption(t){return Object.keys(t).forEach((e=>this.option[e]=t[e])),this}_mouseDown(t){if(!ie.mouseHandled)return 0!==t.button||t.target.closest('input,textarea,button,select,option,[contenteditable="true"],.ui-resizable-handle')||this.option.cancel&&t.target.closest(this.option.cancel)||(this.mouseDownEvent=t,delete this.dragging,delete ie.dragElement,delete ie.dropElement,document.addEventListener("mousemove",this._mouseMove,!0),document.addEventListener("mouseup",this._mouseUp,!0),ne&&(this.dragEl.addEventListener("touchmove",ce),this.dragEl.addEventListener("touchend",ue)),t.preventDefault(),document.activeElement&&document.activeElement.blur(),ie.mouseHandled=!0),!0}_callDrag(t){if(!this.dragging)return;const e=Jt.initEvent(t,{target:this.el,type:"drag"});this.option.drag&&this.option.drag(e,this.ui()),this.triggerEvent("drag",e)}_mouseMove(t){let e=this.mouseDownEvent;if(this.dragging)if(this._dragFollow(t),ie.pauseDrag){const e=Number.isInteger(ie.pauseDrag)?ie.pauseDrag:100;this.dragTimeout&&window.clearTimeout(this.dragTimeout),this.dragTimeout=window.setTimeout((()=>this._callDrag(t)),e)}else this._callDrag(t);else if(Math.abs(t.x-e.x)+Math.abs(t.y-e.y)>3){this.dragging=!0,ie.dragElement=this;let e=this.el.gridstackNode?.grid;e?ie.dropElement=e.el.ddElement.ddDroppable:delete ie.dropElement,this.helper=this._createHelper(t),this._setupHelperContainmentStyle(),this.dragOffset=this._getDragOffset(t,this.el,this.helperContainment);const r=Jt.initEvent(t,{target:this.el,type:"dragstart"});this._setupHelperStyle(t),this.option.start&&this.option.start(r,this.ui()),this.triggerEvent("dragstart",r)}return t.preventDefault(),!0}_mouseUp(t){if(document.removeEventListener("mousemove",this._mouseMove,!0),document.removeEventListener("mouseup",this._mouseUp,!0),ne&&(this.dragEl.removeEventListener("touchmove",ce,!0),this.dragEl.removeEventListener("touchend",ue,!0)),this.dragging){delete this.dragging,ie.dropElement?.el===this.el.parentElement&&delete ie.dropElement,this.helperContainment.style.position=this.parentOriginStylePosition||null,this.helper===this.el?this._removeHelperStyle():this.helper.remove();const e=Jt.initEvent(t,{target:this.el,type:"dragstop"});this.option.stop&&this.option.stop(e),this.triggerEvent("dragstop",e),ie.dropElement&&ie.dropElement.drop(t)}delete this.helper,delete this.mouseDownEvent,delete ie.dragElement,delete ie.dropElement,delete ie.mouseHandled,t.preventDefault()}_createHelper(t){let e=this.el;return"function"==typeof this.option.helper?e=this.option.helper(t):"clone"===this.option.helper&&(e=Jt.cloneNode(this.el)),document.body.contains(e)||Jt.appendTo(e,"parent"===this.option.appendTo?this.el.parentElement:this.option.appendTo),e===this.el&&(this.dragElementOriginStyle=ve.originStyleProp.map((t=>this.el.style[t]))),e}_setupHelperStyle(t){this.helper.classList.add("ui-draggable-dragging");const e=this.helper.style;return e.pointerEvents="none",e.width=this.dragOffset.width+"px",e.height=this.dragOffset.height+"px",e.willChange="left, top",e.position="fixed",this._dragFollow(t),e.transition="none",setTimeout((()=>{this.helper&&(e.transition=null)}),0),this}_removeHelperStyle(){this.helper.classList.remove("ui-draggable-dragging");let t=this.helper?.gridstackNode;if(!t?._isAboutToRemove&&this.dragElementOriginStyle){let t=this.helper,e=this.dragElementOriginStyle.transition||null;t.style.transition=this.dragElementOriginStyle.transition="none",ve.originStyleProp.forEach((e=>t.style[e]=this.dragElementOriginStyle[e]||null)),setTimeout((()=>t.style.transition=e),50)}return delete this.dragElementOriginStyle,this}_dragFollow(t){let e=0,r=0;const i=this.helper.style,n=this.dragOffset;i.left=t.clientX+n.offsetLeft-e+"px",i.top=t.clientY+n.offsetTop-r+"px"}_setupHelperContainmentStyle(){return this.helperContainment=this.helper.parentElement,"fixed"!==this.helper.style.position&&(this.parentOriginStylePosition=this.helperContainment.style.position,getComputedStyle(this.helperContainment).position.match(/static/)&&(this.helperContainment.style.position="relative")),this}_getDragOffset(t,e,r){let i=0,n=0;if(r){const t=document.createElement("div");Jt.addElStyles(t,{opacity:"0",position:"fixed",top:"0px",left:"0px",width:"1px",height:"1px",zIndex:"-999999"}),r.appendChild(t);const e=t.getBoundingClientRect();r.removeChild(t),i=e.left,n=e.top}const o=e.getBoundingClientRect();return{left:o.left,top:o.top,offsetLeft:-t.clientX+o.left-i,offsetTop:-t.clientY+o.top-n,width:o.width,height:o.height}}ui(){const t=this.el.parentElement.getBoundingClientRect(),e=this.helper.getBoundingClientRect();return{position:{top:e.top-t.top,left:e.left-t.left}}}}ve.originStyleProp=["transition","pointerEvents","position","left","top","minWidth","willChange"];class ye extends ge{constructor(t,e={}){super(),this.el=t,this.option=e,this._mouseEnter=this._mouseEnter.bind(this),this._mouseLeave=this._mouseLeave.bind(this),this.enable(),this._setupAccept()}on(t,e){super.on(t,e)}off(t){super.off(t)}enable(){!1!==this.disabled&&(super.enable(),this.el.classList.add("ui-droppable"),this.el.classList.remove("ui-droppable-disabled"),this.el.addEventListener("mouseenter",this._mouseEnter),this.el.addEventListener("mouseleave",this._mouseLeave),ne&&(this.el.addEventListener("pointerenter",de),this.el.addEventListener("pointerleave",pe)))}disable(t=!1){!0!==this.disabled&&(super.disable(),this.el.classList.remove("ui-droppable"),t||this.el.classList.add("ui-droppable-disabled"),this.el.removeEventListener("mouseenter",this._mouseEnter),this.el.removeEventListener("mouseleave",this._mouseLeave),ne&&(this.el.removeEventListener("pointerenter",de),this.el.removeEventListener("pointerleave",pe)))}destroy(){this.disable(!0),this.el.classList.remove("ui-droppable"),this.el.classList.remove("ui-droppable-disabled"),super.destroy()}updateOption(t){return Object.keys(t).forEach((e=>this.option[e]=t[e])),this._setupAccept(),this}_mouseEnter(t){if(!ie.dragElement)return;if(!this._canDrop(ie.dragElement.el))return;t.preventDefault(),t.stopPropagation(),ie.dropElement&&ie.dropElement!==this&&ie.dropElement._mouseLeave(t),ie.dropElement=this;const e=Jt.initEvent(t,{target:this.el,type:"dropover"});this.option.over&&this.option.over(e,this._ui(ie.dragElement)),this.triggerEvent("dropover",e),this.el.classList.add("ui-droppable-over")}_mouseLeave(t){if(!ie.dragElement||ie.dropElement!==this)return;t.preventDefault(),t.stopPropagation();const e=Jt.initEvent(t,{target:this.el,type:"dropout"});if(this.option.out&&this.option.out(e,this._ui(ie.dragElement)),this.triggerEvent("dropout",e),ie.dropElement===this){let e;delete ie.dropElement;let r=this.el.parentElement;for(;!e&&r;)e=r.ddElement?.ddDroppable,r=r.parentElement;e&&e._mouseEnter(t)}}drop(t){t.preventDefault();const e=Jt.initEvent(t,{target:this.el,type:"drop"});this.option.drop&&this.option.drop(e,this._ui(ie.dragElement)),this.triggerEvent("drop",e)}_canDrop(t){return t&&(!this.accept||this.accept(t))}_setupAccept(){return this.option.accept?("string"==typeof this.option.accept?this.accept=t=>t.classList.contains(this.option.accept)||t.matches(this.option.accept):this.accept=this.option.accept,this):this}_ui(t){return{draggable:t.el,...t.ui()}}}class be{static init(t){return t.ddElement||(t.ddElement=new be(t)),t.ddElement}constructor(t){this.el=t}on(t,e){return this.ddDraggable&&["drag","dragstart","dragstop"].indexOf(t)>-1?this.ddDraggable.on(t,e):this.ddDroppable&&["drop","dropover","dropout"].indexOf(t)>-1?this.ddDroppable.on(t,e):this.ddResizable&&["resizestart","resize","resizestop"].indexOf(t)>-1&&this.ddResizable.on(t,e),this}off(t){return this.ddDraggable&&["drag","dragstart","dragstop"].indexOf(t)>-1?this.ddDraggable.off(t):this.ddDroppable&&["drop","dropover","dropout"].indexOf(t)>-1?this.ddDroppable.off(t):this.ddResizable&&["resizestart","resize","resizestop"].indexOf(t)>-1&&this.ddResizable.off(t),this}setupDraggable(t){return this.ddDraggable?this.ddDraggable.updateOption(t):this.ddDraggable=new ve(this.el,t),this}cleanDraggable(){return this.ddDraggable&&(this.ddDraggable.destroy(),delete this.ddDraggable),this}setupResizable(t){return this.ddResizable?this.ddResizable.updateOption(t):this.ddResizable=new me(this.el,t),this}cleanResizable(){return this.ddResizable&&(this.ddResizable.destroy(),delete this.ddResizable),this}setupDroppable(t){return this.ddDroppable?this.ddDroppable.updateOption(t):this.ddDroppable=new ye(this.el,t),this}cleanDroppable(){return this.ddDroppable&&(this.ddDroppable.destroy(),delete this.ddDroppable),this}}const we=new class{resizable(t,e,r,i){return this._getDDElements(t).forEach((t=>{if("disable"===e||"enable"===e)t.ddResizable&&t.ddResizable[e]();else if("destroy"===e)t.ddResizable&&t.cleanResizable();else if("option"===e)t.setupResizable({[r]:i});else{const r=t.el.gridstackNode.grid;let i=t.el.getAttribute("gs-resize-handles")?t.el.getAttribute("gs-resize-handles"):r.opts.resizable.handles,n=!r.opts.alwaysShowResizeHandle;t.setupResizable({...r.opts.resizable,handles:i,autoHide:n,start:e.start,stop:e.stop,resize:e.resize})}})),this}draggable(t,e,r,i){return this._getDDElements(t).forEach((t=>{if("disable"===e||"enable"===e)t.ddDraggable&&t.ddDraggable[e]();else if("destroy"===e)t.ddDraggable&&t.cleanDraggable();else if("option"===e)t.setupDraggable({[r]:i});else{const r=t.el.gridstackNode.grid;t.setupDraggable({...r.opts.draggable,start:e.start,stop:e.stop,drag:e.drag})}})),this}dragIn(t,e){return this._getDDElements(t).forEach((t=>t.setupDraggable(e))),this}droppable(t,e,r,i){return"function"!=typeof e.accept||e._accept||(e._accept=e.accept,e.accept=t=>e._accept(t)),this._getDDElements(t).forEach((t=>{"disable"===e||"enable"===e?t.ddDroppable&&t.ddDroppable[e]():"destroy"===e?t.ddDroppable&&t.cleanDroppable():"option"===e?t.setupDroppable({[r]:i}):t.setupDroppable(e)})),this}isDroppable(t){return!(!(t&&t.ddElement&&t.ddElement.ddDroppable)||t.ddElement.ddDroppable.disabled)}isDraggable(t){return!(!(t&&t.ddElement&&t.ddElement.ddDraggable)||t.ddElement.ddDraggable.disabled)}isResizable(t){return!(!(t&&t.ddElement&&t.ddElement.ddResizable)||t.ddElement.ddResizable.disabled)}on(t,e,r){return this._getDDElements(t).forEach((t=>t.on(e,(t=>{r(t,ie.dragElement?ie.dragElement.el:t.target,ie.dragElement?ie.dragElement.helper:null)})))),this}off(t,e){return this._getDDElements(t).forEach((t=>t.off(e))),this}_getDDElements(t,e=!0){let r=Jt.getElements(t);if(!r.length)return[];let i=r.map((t=>t.ddElement||(e?be.init(t):null)));return e||i.filter((t=>t)),i}};class _e{static init(t={},e=".grid-stack"){let r=_e.getGridElement(e);return r?(r.gridstack||(r.gridstack=new _e(r,Jt.cloneDeep(t))),r.gridstack):("string"==typeof e?console.error('GridStack.initAll() no grid was found with selector "'+e+'" - element missing or wrong selector ?\nNote: ".grid-stack" is required for proper CSS styling and drag/drop, and is the default selector.'):console.error("GridStack.init() no grid element was passed."),null)}static initAll(t={},e=".grid-stack"){let r=[];return _e.getGridElements(e).forEach((e=>{e.gridstack||(e.gridstack=new _e(e,Jt.cloneDeep(t))),r.push(e.gridstack)})),0===r.length&&console.error('GridStack.initAll() no grid was found with selector "'+e+'" - element missing or wrong selector ?\nNote: ".grid-stack" is required for proper CSS styling and drag/drop, and is the default selector.'),r}static addGrid(t,e={}){if(!t)return null;let r=t;if(r.gridstack){const t=r.gridstack;return e&&(t.opts={...t.opts,...e}),void 0!==e.children&&t.load(e.children),t}if(!t.classList.contains("grid-stack")||_e.addRemoveCB)if(_e.addRemoveCB)r=_e.addRemoveCB(t,e,!0,!0);else{let i=document.implementation.createHTMLDocument("");i.body.innerHTML=`<div class="grid-stack ${e.class||""}"></div>`,r=i.body.children[0],t.appendChild(r)}return _e.init(e,r)}static registerEngine(t){_e.engineClass=t}get placeholder(){if(!this._placeholder){let t=document.createElement("div");t.className="placeholder-content",this.opts.placeholderText&&(t.innerHTML=this.opts.placeholderText),this._placeholder=document.createElement("div"),this._placeholder.classList.add(this.opts.placeholderClass,ee.itemClass,this.opts.itemClass),this.placeholder.appendChild(t)}return this._placeholder}constructor(t,e={}){this._gsEventHandler={},this._extraDragRow=0,this.el=t,e=e||{},t.classList.contains("grid-stack")||this.el.classList.add("grid-stack"),e.row&&(e.minRow=e.maxRow=e.row,delete e.row);let r=Jt.toNumber(t.getAttribute("gs-row"));"auto"===e.column&&delete e.column,void 0!==e.alwaysShowResizeHandle&&(e._alwaysShowResizeHandle=e.alwaysShowResizeHandle);let i={...Jt.cloneDeep(ee),column:Jt.toNumber(t.getAttribute("gs-column"))||ee.column,minRow:r||(Jt.toNumber(t.getAttribute("gs-min-row"))||ee.minRow),maxRow:r||(Jt.toNumber(t.getAttribute("gs-max-row"))||ee.maxRow),staticGrid:Jt.toBool(t.getAttribute("gs-static"))||ee.staticGrid,draggable:{handle:(e.handleClass?"."+e.handleClass:e.handle?e.handle:"")||ee.draggable.handle},removableOptions:{accept:e.itemClass||ee.removableOptions.accept,decline:ee.removableOptions.decline}};t.getAttribute("gs-animate")&&(i.animate=Jt.toBool(t.getAttribute("gs-animate"))),this.opts=Jt.defaults(e,i),e=null,this._initMargin(),1!==this.opts.column&&!this.opts.disableOneColumnMode&&this._widthOrContainer()<=this.opts.oneColumnSize&&(this._prevColumn=this.getColumn(),this.opts.column=1),"auto"===this.opts.rtl&&(this.opts.rtl="rtl"===t.style.direction),this.opts.rtl&&this.el.classList.add("grid-stack-rtl");const n=this.el.parentElement?.parentElement;let o=n?.classList.contains(ee.itemClass)?n.gridstackNode:void 0;o&&(o.subGrid=this,this.parentGridItem=o,this.el.classList.add("grid-stack-nested"),o.el.classList.add("grid-stack-sub-grid")),this._isAutoCellHeight="auto"===this.opts.cellHeight,this._isAutoCellHeight||"initial"===this.opts.cellHeight?this.cellHeight(void 0,!1):("number"==typeof this.opts.cellHeight&&this.opts.cellHeightUnit&&this.opts.cellHeightUnit!==ee.cellHeightUnit&&(this.opts.cellHeight=this.opts.cellHeight+this.opts.cellHeightUnit,delete this.opts.cellHeightUnit),this.cellHeight(this.opts.cellHeight,!1)),"mobile"===this.opts.alwaysShowResizeHandle&&(this.opts.alwaysShowResizeHandle=ne),this._styleSheetClass="gs-id-"+te._idSeq++,this.el.classList.add(this._styleSheetClass),this._setStaticClass();let s=this.opts.engineClass||_e.engineClass||te;if(this.engine=new s({column:this.getColumn(),float:this.opts.float,maxRow:this.opts.maxRow,onChange:t=>{let e=0;this.engine.nodes.forEach((t=>{e=Math.max(e,t.y+t.h)})),t.forEach((t=>{let e=t.el;e&&(t._removeDOM?(e&&e.remove(),delete t._removeDOM):this._writePosAttr(e,t))})),this._updateStyles(!1,e)}}),this.opts.auto&&(this.batchUpdate(),this.getGridItems().forEach((t=>this._prepareElement(t))),this.batchUpdate(!1)),this.opts.children){let t=this.opts.children;delete this.opts.children,t.length&&this.load(t)}this.setAnimation(this.opts.animate),this._updateStyles(),this.el.classList.add("gs-"+this.opts.column),this.opts.subGridDynamic&&!ie.pauseDrag&&(ie.pauseDrag=!0),void 0!==this.opts.draggable?.pause&&(ie.pauseDrag=this.opts.draggable.pause),this._setupRemoveDrop(),this._setupAcceptWidget(),this._updateResizeEvent()}addWidget(t,e){let r,i;if("string"==typeof t){let e=document.implementation.createHTMLDocument("");e.body.innerHTML=t,r=e.body.children[0]}else if(0===arguments.length||1===arguments.length&&(void 0!==(n=t).el||void 0!==n.x||void 0!==n.y||void 0!==n.w||void 0!==n.h||void 0!==n.content))if(i=e=t,i?.el)r=i.el;else if(_e.addRemoveCB)r=_e.addRemoveCB(this.el,e,!0,!1);else{let t=e?.content||"",i=document.implementation.createHTMLDocument("");i.body.innerHTML=`<div class="grid-stack-item ${this.opts.itemClass||""}"><div class="grid-stack-item-content">${t}</div></div>`,r=i.body.children[0]}else r=t;var n;if(!r)return;if(i=r.gridstackNode,i&&r.parentElement===this.el&&this.engine.nodes.find((t=>t._id===i._id)))return r;let o=this._readAttr(r);return e=Jt.cloneDeep(e)||{},Jt.defaults(e,o),i=this.engine.prepareNode(e),this._writeAttr(r,e),this._insertNotAppend?this.el.prepend(r):this.el.appendChild(r),this.makeWidget(r,e),r}makeSubGrid(t,e,r,i=!0){let n,o=t.gridstackNode;if(o||(o=this.makeWidget(t).gridstackNode),o.subGrid?.el)return o.subGrid;let s,a=this;for(;a&&!n;)n=a.opts?.subGridOpts,a=a.parentGridItem?.grid;e=Jt.cloneDeep({...n||{},children:void 0,...e||o.subGridOpts}),o.subGridOpts=e,"auto"===e.column&&(s=!0,e.column=Math.max(o.w||1,r?.w||1),e.disableOneColumnMode=!0);let l,c,u=o.el.querySelector(".grid-stack-item-content");if(i){if(this._removeDD(o.el),c={...o,x:0,y:0},Jt.removeInternalForSave(c),delete c.subGridOpts,o.content&&(c.content=o.content,delete o.content),_e.addRemoveCB)l=_e.addRemoveCB(this.el,c,!0,!1);else{let t=document.implementation.createHTMLDocument("");t.body.innerHTML='<div class="grid-stack-item"></div>',l=t.body.children[0],l.appendChild(u),t.body.innerHTML='<div class="grid-stack-item-content"></div>',u=t.body.children[0],o.el.appendChild(u)}this._prepareDragDropByNode(o)}if(r){let t=s?e.column:o.w,i=o.h+r.h,n=o.el.style;n.transition="none",this.update(o.el,{w:t,h:i}),setTimeout((()=>n.transition=null))}let h=o.subGrid=_e.addGrid(u,e);return r?._moving&&(h._isTemp=!0),s&&(h._autoColumn=!0),i&&h.addWidget(l,c),r&&(r._moving?window.setTimeout((()=>Jt.simulateMouseEvent(r._event,"mouseenter",h.el)),0):h.addWidget(o.el,o)),h}removeAsSubGrid(t){let e=this.parentGridItem?.grid;e&&(e.batchUpdate(),e.removeWidget(this.parentGridItem.el,!0,!0),this.engine.nodes.forEach((t=>{t.x+=this.parentGridItem.x,t.y+=this.parentGridItem.y,e.addWidget(t.el,t)})),e.batchUpdate(!1),this.parentGridItem&&delete this.parentGridItem.subGrid,delete this.parentGridItem,t&&window.setTimeout((()=>Jt.simulateMouseEvent(t._event,"mouseenter",e.el)),0))}save(t=!0,e=!1,r=_e.saveCB){let i=this.engine.save(t,r);if(i.forEach((i=>{if(t&&i.el&&!i.subGrid&&!r){let t=i.el.querySelector(".grid-stack-item-content");i.content=t?t.innerHTML:void 0,i.content||delete i.content}else if(t||r||delete i.content,i.subGrid?.el){const n=i.subGrid.save(t,e,r);i.subGridOpts=e?n:{children:n},delete i.subGrid}delete i.el})),e){let t=Jt.cloneDeep(this.opts);t.marginBottom===t.marginTop&&t.marginRight===t.marginLeft&&t.marginTop===t.marginRight&&(t.margin=t.marginTop,delete t.marginTop,delete t.marginRight,delete t.marginBottom,delete t.marginLeft),t.rtl===("rtl"===this.el.style.direction)&&(t.rtl="auto"),this._isAutoCellHeight&&(t.cellHeight="auto"),this._autoColumn&&(t.column="auto",delete t.disableOneColumnMode);const e=t._alwaysShowResizeHandle;return delete t._alwaysShowResizeHandle,void 0!==e?t.alwaysShowResizeHandle=e:delete t.alwaysShowResizeHandle,Jt.removeInternalAndSame(t,ee),t.children=i,t}return i}load(t,e=_e.addRemoveCB||!0){const r=(t=Jt.cloneDeep(t)).some((t=>void 0!==t.x||void 0!==t.y));r&&(t=Jt.sort(t,-1,this._prevColumn||this.getColumn())),this._insertNotAppend=r,this._prevColumn&&this._prevColumn!==this.opts.column&&t.some((t=>(t.x||0)+t.w>this.opts.column))&&(this._ignoreLayoutsNodeChange=!0,this.engine.cacheLayout(t,this._prevColumn,!0));const i=_e.addRemoveCB;"function"==typeof e&&(_e.addRemoveCB=e);let n=[];if(this.batchUpdate(),e){[...this.engine.nodes].forEach((e=>{if(!e.id)return;Jt.find(t,e.id)||(_e.addRemoveCB&&_e.addRemoveCB(this.el,e,!1,!1),n.push(e),this.removeWidget(e.el,!0,!1))}))}let o=[];this.engine.nodes=this.engine.nodes.filter((e=>!Jt.find(t,e.id)||(o.push(e),!1)));let s=!1;return t.forEach((t=>{let r=Jt.find(o,t.id);if(r){if(Jt.shouldSizeToContent(r)&&(t.h=r.h),(t.autoPosition||void 0===t.x||void 0===t.y)&&(t.w=t.w||r.w,t.h=t.h||r.h,this.engine.findEmptyPosition(t)),s=s||void 0!==t.w&&t.w!==r.w,this.engine.nodes.push(r),Jt.samePos(r,t)&&(this.moveNode(r,{...t,forceCollide:!0}),Jt.copyPos(t,r,!0)),this.update(r.el,t),t.subGridOpts?.children){let e=r.el.querySelector(".grid-stack");e&&e.gridstack&&(e.gridstack.load(t.subGridOpts.children),this._insertNotAppend=!0)}}else e&&this.addWidget(t)})),this.engine.removedNodes=n,this.doContentResize(s,!0),this.batchUpdate(!1),delete this._ignoreLayoutsNodeChange,delete this._insertNotAppend,i?_e.addRemoveCB=i:delete _e.addRemoveCB,this}batchUpdate(t=!0){return this.engine.batchUpdate(t),t||(this._updateContainerHeight(),this._triggerRemoveEvent(),this._triggerAddEvent(),this._triggerChangeEvent()),this}getCellHeight(t=!1){if(this.opts.cellHeight&&"auto"!==this.opts.cellHeight&&(!t||!this.opts.cellHeightUnit||"px"===this.opts.cellHeightUnit))return this.opts.cellHeight;let e=this.el.querySelector("."+this.opts.itemClass);if(e){let t=Jt.toNumber(e.getAttribute("gs-h"))||1;return Math.round(e.offsetHeight/t)}let r=parseInt(this.el.getAttribute("gs-current-row"));return r?Math.round(this.el.getBoundingClientRect().height/r):this.opts.cellHeight}cellHeight(t,e=!0){if(e&&void 0!==t&&this._isAutoCellHeight!==("auto"===t)&&(this._isAutoCellHeight="auto"===t,this._updateResizeEvent()),"initial"!==t&&"auto"!==t||(t=void 0),void 0===t){let e=-this.opts.marginRight-this.opts.marginLeft+this.opts.marginTop+this.opts.marginBottom;t=this.cellWidth()+e}let r=Jt.parseHeight(t);return this.opts.cellHeightUnit===r.unit&&this.opts.cellHeight===r.h||(this.opts.cellHeightUnit=r.unit,this.opts.cellHeight=r.h,this.doContentResize(!1,!0),e&&this._updateStyles(!0)),this}cellWidth(){return this._widthOrContainer()/this.getColumn()}_widthOrContainer(){return this.el.clientWidth||this.el.parentElement.clientWidth||window.innerWidth}compact(t="compact",e=!0){return this.engine.compact(t,e),this._triggerChangeEvent(),this}column(t,e="moveScale"){if(!t||t<1||this.opts.column===t)return this;let r,i=this.getColumn();return 1===t?this._prevColumn=i:delete this._prevColumn,this.el.classList.remove("gs-"+i),this.el.classList.add("gs-"+t),this.opts.column=this.engine.column=t,1===t&&this.opts.oneColumnModeDomSort&&(r=[],this.getGridItems().forEach((t=>{t.gridstackNode&&r.push(t.gridstackNode)})),r.length||(r=void 0)),this.engine.columnChanged(i,t,r,e),this._isAutoCellHeight&&this.cellHeight(),this.doContentResize(),this._ignoreLayoutsNodeChange=!0,this._triggerChangeEvent(),delete this._ignoreLayoutsNodeChange,this}getColumn(){return this.opts.column}getGridItems(){return Array.from(this.el.children).filter((t=>t.matches("."+this.opts.itemClass)&&!t.matches("."+this.opts.placeholderClass)))}destroy(t=!0){if(this.el)return this.offAll(),this._updateResizeEvent(!0),this.setStatic(!0,!1),this.setAnimation(!1),t?this.el.parentNode.removeChild(this.el):(this.removeAll(t),this.el.classList.remove(this._styleSheetClass),this.el.removeAttribute("gs-current-row")),this._removeStylesheet(),this.parentGridItem&&delete this.parentGridItem.subGrid,delete this.parentGridItem,delete this.opts,delete this._placeholder,delete this.engine,delete this.el.gridstack,delete this.el,this}float(t){return this.opts.float!==t&&(this.opts.float=this.engine.float=t,this._triggerChangeEvent()),this}getFloat(){return this.engine.float}getCellFromPixel(t,e=!1){let r,i=this.el.getBoundingClientRect();r=e?{top:i.top+document.documentElement.scrollTop,left:i.left}:{top:this.el.offsetTop,left:this.el.offsetLeft};let n=t.left-r.left,o=t.top-r.top,s=i.width/this.getColumn(),a=i.height/parseInt(this.el.getAttribute("gs-current-row"));return{x:Math.floor(n/s),y:Math.floor(o/a)}}getRow(){return Math.max(this.engine.getRow(),this.opts.minRow)}isAreaEmpty(t,e,r,i){return this.engine.isAreaEmpty(t,e,r,i)}makeWidget(t,e){let r=_e.getElement(t);this._prepareElement(r,!0,e);const i=r.gridstackNode;return this._updateContainerHeight(),this.doContentResize(!1,!1,i),i.subGridOpts&&this.makeSubGrid(r,i.subGridOpts,void 0,!1),this._prevColumn&&1===this.opts.column&&(this._ignoreLayoutsNodeChange=!0),this._triggerAddEvent(),this._triggerChangeEvent(),delete this._ignoreLayoutsNodeChange,r}on(t,e){if(-1!==t.indexOf(" ")){return t.split(" ").forEach((t=>this.on(t,e))),this}if("change"===t||"added"===t||"removed"===t||"enable"===t||"disable"===t){let r="enable"===t||"disable"===t;this._gsEventHandler[t]=r?t=>e(t):t=>e(t,t.detail),this.el.addEventListener(t,this._gsEventHandler[t])}else"drag"===t||"dragstart"===t||"dragstop"===t||"resizestart"===t||"resize"===t||"resizestop"===t||"dropped"===t||"resizecontent"===t?this._gsEventHandler[t]=e:console.log("GridStack.on("+t+') event not supported, but you can still use $(".grid-stack").on(...) while jquery-ui is still used internally.');return this}off(t){if(-1!==t.indexOf(" ")){return t.split(" ").forEach((t=>this.off(t))),this}return"change"!==t&&"added"!==t&&"removed"!==t&&"enable"!==t&&"disable"!==t||this._gsEventHandler[t]&&this.el.removeEventListener(t,this._gsEventHandler[t]),delete this._gsEventHandler[t],this}offAll(){return Object.keys(this._gsEventHandler).forEach((t=>this.off(t))),this}removeWidget(t,e=!0,r=!0){return _e.getElements(t).forEach((t=>{if(t.parentElement&&t.parentElement!==this.el)return;let i=t.gridstackNode;i||(i=this.engine.nodes.find((e=>t===e.el))),i&&(_e.addRemoveCB&&_e.addRemoveCB(this.el,i,!1,!1),delete t.gridstackNode,this._removeDD(t),this.engine.removeNode(i,e,r),e&&t.parentElement&&t.remove())})),r&&(this._triggerRemoveEvent(),this._triggerChangeEvent()),this}removeAll(t=!0){return this.engine.nodes.forEach((t=>{delete t.el.gridstackNode,this._removeDD(t.el)})),this.engine.removeAll(t),this._triggerRemoveEvent(),this}setAnimation(t){return t?this.el.classList.add("grid-stack-animate"):this.el.classList.remove("grid-stack-animate"),this}setStatic(t,e=!0,r=!0){return!!this.opts.staticGrid===t||(t?this.opts.staticGrid=!0:delete this.opts.staticGrid,this._setupRemoveDrop(),this._setupAcceptWidget(),this.engine.nodes.forEach((i=>{this._prepareDragDropByNode(i),i.subGrid&&r&&i.subGrid.setStatic(t,e,r)})),e&&this._setStaticClass()),this}update(t,e){if(arguments.length>2){console.warn("gridstack.ts: `update(el, x, y, w, h)` is deprecated. Use `update(el, {x, w, content, ...})`. It will be removed soon");let r=arguments,i=1;return e={x:r[i++],y:r[i++],w:r[i++],h:r[i++]},this.update(t,e)}return _e.getElements(t).forEach((t=>{let r=t?.gridstackNode;if(!r)return;let i=Jt.cloneDeep(e);delete i.autoPosition,delete i.id;let n,o=["x","y","w","h"];if(o.some((t=>void 0!==i[t]&&i[t]!==r[t]))&&(n={},o.forEach((t=>{n[t]=void 0!==i[t]?i[t]:r[t],delete i[t]}))),!n&&(i.minW||i.minH||i.maxW||i.maxH)&&(n={}),void 0!==i.content){const e=t.querySelector(".grid-stack-item-content");e&&e.innerHTML!==i.content&&(e.innerHTML=i.content,r.subGrid?.el&&(e.appendChild(r.subGrid.el),r.subGrid.opts.styleInHead||r.subGrid._updateStyles(!0))),delete i.content}let s=!1,a=!1;for(const t in i)"_"!==t[0]&&r[t]!==i[t]&&(r[t]=i[t],s=!0,a=a||!this.opts.staticGrid&&("noResize"===t||"noMove"===t||"locked"===t));Jt.sanitizeMinMax(r),void 0!==n&&this.moveNode(r,n),s&&this._writeAttr(t,r),a&&this._prepareDragDropByNode(r)})),this}moveNode(t,e){this.engine.cleanNodes().beginUpdate(t).moveNode(t,e),this._updateContainerHeight(),this._triggerChangeEvent(),this.engine.endUpdate()}resizeToContent(t,e=!1){if(!t)return;if(t.classList.remove("size-to-content-max"),!t.clientHeight)return;let r=t.gridstackNode;if(!r)return;const i=r.grid;if(!i)return;if(t.parentElement!==i.el)return;const n=i.getCellHeight();if(!n)return;let o,s=e&&r.h?r.h*n:t.clientHeight;if(r.resizeToContentParent&&(o=t.querySelector(r.resizeToContentParent)),o||(o=t.querySelector(_e.resizeToContentParent)),!o)return;const a=t.clientHeight-o.clientHeight,l=e&&r.h?r.h*n-a:o.clientHeight;let c;if(r.subGrid)c=r.subGrid.getRow()*r.subGrid.getCellHeight();else{const t=o.firstElementChild;if(!t)return void console.log(`Error: resizeToContent() '${_e.resizeToContentParent}'.firstElementChild is null, make sure to have a div like container. Skipping sizing.`);c=t.getBoundingClientRect().height||l}if(l===c)return;s+=c-l;let u=Math.ceil(s/n);const h=Number.isInteger(r.sizeToContent)?r.sizeToContent:0;h&&u>h&&(u=h,t.classList.add("size-to-content-max")),r.minH&&u<r.minH?u=r.minH:r.maxH&&u>r.maxH&&(u=r.maxH),u!==r.h&&(i._ignoreLayoutsNodeChange=!0,i.moveNode(r,{h:u}),delete i._ignoreLayoutsNodeChange)}resizeToContentCheck(t,e=!1){_e.resizeToContentCB?_e.resizeToContentCB(t,e):this.resizeToContent(t,e)}margin(t){if(!("string"==typeof t&&t.split(" ").length>1)){let e=Jt.parseHeight(t);if(this.opts.marginUnit===e.unit&&this.opts.margin===e.h)return}return this.opts.margin=t,this.opts.marginTop=this.opts.marginBottom=this.opts.marginLeft=this.opts.marginRight=void 0,this._initMargin(),this._updateStyles(!0),this}getMargin(){return this.opts.margin}willItFit(t){if(arguments.length>1){console.warn("gridstack.ts: `willItFit(x,y,w,h,autoPosition)` is deprecated. Use `willItFit({x, y,...})`. It will be removed soon");let t=arguments,e=0,r={x:t[e++],y:t[e++],w:t[e++],h:t[e++],autoPosition:t[e++]};return this.willItFit(r)}return this.engine.willItFit(t)}_triggerChangeEvent(){if(this.engine.batchMode)return this;let t=this.engine.getDirtyNodes(!0);return t&&t.length&&(this._ignoreLayoutsNodeChange||this.engine.layoutsNodesChange(t),this._triggerEvent("change",t)),this.engine.saveInitial(),this}_triggerAddEvent(){return this.engine.batchMode||this.engine.addedNodes?.length&&(this._ignoreLayoutsNodeChange||this.engine.layoutsNodesChange(this.engine.addedNodes),this.engine.addedNodes.forEach((t=>{delete t._dirty})),this._triggerEvent("added",this.engine.addedNodes),this.engine.addedNodes=[]),this}_triggerRemoveEvent(){return this.engine.batchMode||this.engine.removedNodes?.length&&(this._triggerEvent("removed",this.engine.removedNodes),this.engine.removedNodes=[]),this}_triggerEvent(t,e){let r=e?new CustomEvent(t,{bubbles:!1,detail:e}):new Event(t);return this.el.dispatchEvent(r),this}_removeStylesheet(){return this._styles&&(Jt.removeStylesheet(this._styleSheetClass),delete this._styles),this}_updateStyles(t=!1,e){if(t&&this._removeStylesheet(),e||(e=this.getRow()),this._updateContainerHeight(),0===this.opts.cellHeight)return this;let r=this.opts.cellHeight,i=this.opts.cellHeightUnit,n=`.${this._styleSheetClass} > .${this.opts.itemClass}`;if(!this._styles){let t=this.opts.styleInHead?void 0:this.el.parentNode;if(this._styles=Jt.createStylesheet(this._styleSheetClass,t,{nonce:this.opts.nonce}),!this._styles)return this;this._styles._max=0,Jt.addCSSRule(this._styles,n,`height: ${r}${i}`);let e=this.opts.marginTop+this.opts.marginUnit,o=this.opts.marginBottom+this.opts.marginUnit,s=this.opts.marginRight+this.opts.marginUnit,a=this.opts.marginLeft+this.opts.marginUnit,l=`${n} > .grid-stack-item-content`,c=`.${this._styleSheetClass} > .grid-stack-placeholder > .placeholder-content`;Jt.addCSSRule(this._styles,l,`top: ${e}; right: ${s}; bottom: ${o}; left: ${a};`),Jt.addCSSRule(this._styles,c,`top: ${e}; right: ${s}; bottom: ${o}; left: ${a};`),Jt.addCSSRule(this._styles,`${n} > .ui-resizable-ne`,`right: ${s}`),Jt.addCSSRule(this._styles,`${n} > .ui-resizable-e`,`right: ${s}`),Jt.addCSSRule(this._styles,`${n} > .ui-resizable-se`,`right: ${s}; bottom: ${o}`),Jt.addCSSRule(this._styles,`${n} > .ui-resizable-nw`,`left: ${a}`),Jt.addCSSRule(this._styles,`${n} > .ui-resizable-w`,`left: ${a}`),Jt.addCSSRule(this._styles,`${n} > .ui-resizable-sw`,`left: ${a}; bottom: ${o}`)}if((e=e||this._styles._max)>this._styles._max){let t=t=>r*t+i;for(let r=this._styles._max+1;r<=e;r++)Jt.addCSSRule(this._styles,`${n}[gs-y="${r}"]`,`top: ${t(r)}`),Jt.addCSSRule(this._styles,`${n}[gs-h="${r+1}"]`,`height: ${t(r+1)}`);this._styles._max=e}return this}_updateContainerHeight(){if(!this.engine||this.engine.batchMode)return this;const t=this.parentGridItem;let e=this.getRow()+this._extraDragRow;const r=this.opts.cellHeight,i=this.opts.cellHeightUnit;if(!r)return this;if(!t){const t=Jt.parseHeight(getComputedStyle(this.el).minHeight);if(t.h>0&&t.unit===i){const i=Math.floor(t.h/r);e<i&&(e=i)}}return this.el.setAttribute("gs-current-row",String(e)),this.el.style.removeProperty("min-height"),this.el.style.removeProperty("height"),e&&(this.el.style[t?"minHeight":"height"]=e*r+i),t&&!t.grid.engine.batchMode&&Jt.shouldSizeToContent(t)&&t.grid.resizeToContentCheck(t.el),this}_prepareElement(t,e=!1,r){t.classList.add(this.opts.itemClass),r=r||this._readAttr(t),t.gridstackNode=r,r.el=t,r.grid=this;let i={...r};return r=this.engine.addNode(r,e),Jt.same(r,i)||this._writeAttr(t,r),Jt.shouldSizeToContent(r)&&t.classList.add("size-to-content"),this._prepareDragDropByNode(r),this}_writePosAttr(t,e){return void 0!==e.x&&null!==e.x&&t.setAttribute("gs-x",String(e.x)),void 0!==e.y&&null!==e.y&&t.setAttribute("gs-y",String(e.y)),e.w>1?t.setAttribute("gs-w",String(e.w)):t.removeAttribute("gs-w"),e.h>1?t.setAttribute("gs-h",String(e.h)):t.removeAttribute("gs-h"),this}_writeAttr(t,e){if(!e)return this;this._writePosAttr(t,e);let r={autoPosition:"gs-auto-position",noResize:"gs-no-resize",noMove:"gs-no-move",locked:"gs-locked",id:"gs-id"};for(const i in r)e[i]?t.setAttribute(r[i],String(e[i])):t.removeAttribute(r[i]);return this}_readAttr(t,e=!0){let r={};r.x=Jt.toNumber(t.getAttribute("gs-x")),r.y=Jt.toNumber(t.getAttribute("gs-y")),r.w=Jt.toNumber(t.getAttribute("gs-w")),r.h=Jt.toNumber(t.getAttribute("gs-h")),r.autoPosition=Jt.toBool(t.getAttribute("gs-auto-position")),r.noResize=Jt.toBool(t.getAttribute("gs-no-resize")),r.noMove=Jt.toBool(t.getAttribute("gs-no-move")),r.locked=Jt.toBool(t.getAttribute("gs-locked")),r.id=t.getAttribute("gs-id"),r.maxW=Jt.toNumber(t.getAttribute("gs-max-w")),r.minW=Jt.toNumber(t.getAttribute("gs-min-w")),r.maxH=Jt.toNumber(t.getAttribute("gs-max-h")),r.minH=Jt.toNumber(t.getAttribute("gs-min-h")),e&&(1===r.w&&t.removeAttribute("gs-w"),1===r.h&&t.removeAttribute("gs-h"),r.maxW&&t.removeAttribute("gs-max-w"),r.minW&&t.removeAttribute("gs-min-w"),r.maxH&&t.removeAttribute("gs-max-h"),r.minH&&t.removeAttribute("gs-min-h"));for(const t in r){if(!r.hasOwnProperty(t))return;r[t]||0===r[t]||delete r[t]}return r}_setStaticClass(){let t=["grid-stack-static"];return this.opts.staticGrid?(this.el.classList.add(...t),this.el.setAttribute("gs-static","true")):(this.el.classList.remove(...t),this.el.removeAttribute("gs-static")),this}onResize(){if(!this.el?.clientWidth)return;if(this.prevWidth===this.el.clientWidth)return;this.prevWidth=this.el.clientWidth,this.batchUpdate();let t=!1;if(this._autoColumn&&this.parentGridItem)this.opts.column!==this.parentGridItem.w&&(this.column(this.parentGridItem.w,"none"),t=!0);else{let e=!this.opts.disableOneColumnMode&&this.el.clientWidth<=this.opts.oneColumnSize||1===this.opts.column&&!this._prevColumn;1===this.opts.column!==e&&(this.column(e?1:this._prevColumn),t=!0)}return this._isAutoCellHeight&&this.cellHeight(),this.engine.nodes.forEach((t=>{t.subGrid&&t.subGrid.onResize()})),this._skipInitialResize||this.doContentResize(t),delete this._skipInitialResize,this.batchUpdate(!1),this}doContentResize(t=!0,e=!1,r=void 0){setTimeout((()=>{if(r)Jt.shouldSizeToContent(r)&&this.resizeToContentCheck(r.el,e);else if(this.engine.nodes.some((t=>Jt.shouldSizeToContent(t)))){const t=[...this.engine.nodes];this.batchUpdate(),t.forEach((t=>{Jt.shouldSizeToContent(t)&&this.resizeToContentCheck(t.el,e)})),this.batchUpdate(!1)}this._gsEventHandler.resizecontent&&this._gsEventHandler.resizecontent(null,r?[r]:this.engine.nodes)}),t?310:0)}_updateResizeEvent(t=!1){const e=!this.parentGridItem&&(this._isAutoCellHeight||this.opts.sizeToContent||!this.opts.disableOneColumnMode||this.engine.nodes.find((t=>t.sizeToContent)));return t||!e||this.resizeObserver?!t&&e||!this.resizeObserver||(this.resizeObserver.disconnect(),delete this.resizeObserver,delete this._sizeThrottle):(this._sizeThrottle=Jt.throttle((()=>this.onResize()),this.opts.cellHeightThrottle),this.resizeObserver=new ResizeObserver((()=>this._sizeThrottle())),this.resizeObserver.observe(this.el),this._skipInitialResize=!0),this}static getElement(t=".grid-stack-item"){return Jt.getElement(t)}static getElements(t=".grid-stack-item"){return Jt.getElements(t)}static getGridElement(t){return _e.getElement(t)}static getGridElements(t){return Jt.getElements(t)}_initMargin(){let t,e=0,r=[];return"string"==typeof this.opts.margin&&(r=this.opts.margin.split(" ")),2===r.length?(this.opts.marginTop=this.opts.marginBottom=r[0],this.opts.marginLeft=this.opts.marginRight=r[1]):4===r.length?(this.opts.marginTop=r[0],this.opts.marginRight=r[1],this.opts.marginBottom=r[2],this.opts.marginLeft=r[3]):(t=Jt.parseHeight(this.opts.margin),this.opts.marginUnit=t.unit,e=this.opts.margin=t.h),void 0===this.opts.marginTop?this.opts.marginTop=e:(t=Jt.parseHeight(this.opts.marginTop),this.opts.marginTop=t.h,delete this.opts.margin),void 0===this.opts.marginBottom?this.opts.marginBottom=e:(t=Jt.parseHeight(this.opts.marginBottom),this.opts.marginBottom=t.h,delete this.opts.margin),void 0===this.opts.marginRight?this.opts.marginRight=e:(t=Jt.parseHeight(this.opts.marginRight),this.opts.marginRight=t.h,delete this.opts.margin),void 0===this.opts.marginLeft?this.opts.marginLeft=e:(t=Jt.parseHeight(this.opts.marginLeft),this.opts.marginLeft=t.h,delete this.opts.margin),this.opts.marginUnit=t.unit,this.opts.marginTop===this.opts.marginBottom&&this.opts.marginLeft===this.opts.marginRight&&this.opts.marginTop===this.opts.marginRight&&(this.opts.margin=this.opts.marginTop),this}static getDD(){return we}static setupDragIn(t,e,r=document){void 0!==e?.pause&&(ie.pauseDrag=e.pause),e={...re,...e||{}};let i="string"==typeof t?Jt.getElements(t,r):t;i.length&&i?.forEach((t=>{we.isDraggable(t)||we.dragIn(t,e)}))}movable(t,e){return this.opts.staticGrid||_e.getElements(t).forEach((t=>{let r=t.gridstackNode;r&&(e?delete r.noMove:r.noMove=!0,this._prepareDragDropByNode(r))})),this}resizable(t,e){return this.opts.staticGrid||_e.getElements(t).forEach((t=>{let r=t.gridstackNode;r&&(e?delete r.noResize:r.noResize=!0,this._prepareDragDropByNode(r))})),this}disable(t=!0){if(!this.opts.staticGrid)return this.enableMove(!1,t),this.enableResize(!1,t),this._triggerEvent("disable"),this}enable(t=!0){if(!this.opts.staticGrid)return this.enableMove(!0,t),this.enableResize(!0,t),this._triggerEvent("enable"),this}enableMove(t,e=!0){return this.opts.staticGrid||(t?delete this.opts.disableDrag:this.opts.disableDrag=!0,this.engine.nodes.forEach((r=>{this._prepareDragDropByNode(r),r.subGrid&&e&&r.subGrid.enableMove(t,e)}))),this}enableResize(t,e=!0){return this.opts.staticGrid||(t?delete this.opts.disableResize:this.opts.disableResize=!0,this.engine.nodes.forEach((r=>{this._prepareDragDropByNode(r),r.subGrid&&e&&r.subGrid.enableResize(t,e)}))),this}_removeDD(t){return we.draggable(t,"destroy").resizable(t,"destroy"),t.gridstackNode&&delete t.gridstackNode._initDD,delete t.ddElement,this}_setupAcceptWidget(){if(this.opts.staticGrid||!this.opts.acceptWidgets&&!this.opts.removable)return we.droppable(this.el,"destroy"),this;let t,e,r=(r,i,n)=>{let o=i.gridstackNode;if(!o)return;n=n||i;let s=this.el.getBoundingClientRect(),{top:a,left:l}=n.getBoundingClientRect();l-=s.left,a-=s.top;let c={position:{top:a,left:l}};if(o._temporaryRemoved){if(o.x=Math.max(0,Math.round(l/e)),o.y=Math.max(0,Math.round(a/t)),delete o.autoPosition,this.engine.nodeBoundFix(o),!this.engine.willItFit(o)){if(o.autoPosition=!0,!this.engine.willItFit(o))return void we.off(i,"drag");o._willFitPos&&(Jt.copyPos(o,o._willFitPos),delete o._willFitPos)}this._onStartMoving(n,r,c,o,e,t)}else this._dragOrResize(n,r,c,o,e,t)};return we.droppable(this.el,{accept:t=>{let e=t.gridstackNode;if(e?.grid===this)return!0;if(!this.opts.acceptWidgets)return!1;let r=!0;if("function"==typeof this.opts.acceptWidgets)r=this.opts.acceptWidgets(t);else{let e=!0===this.opts.acceptWidgets?".grid-stack-item":this.opts.acceptWidgets;r=t.matches(e)}if(r&&e&&this.opts.maxRow){let t={w:e.w,h:e.h,minW:e.minW,minH:e.minH};r=this.engine.willItFit(t)}return r}}).on(this.el,"dropover",((i,n,o)=>{let s=n.gridstackNode;if(s?.grid===this&&!s._temporaryRemoved)return!1;if(s?.grid&&s.grid!==this&&!s._temporaryRemoved){s.grid._leave(n,o)}e=this.cellWidth(),t=this.getCellHeight(!0),s||(s=this._readAttr(n,!1)),s.grid||(s._isExternal=!0,n.gridstackNode=s),o=o||n;let a=s.w||Math.round(o.offsetWidth/e)||1,l=s.h||Math.round(o.offsetHeight/t)||1;return s.grid&&s.grid!==this?(n._gridstackNodeOrig||(n._gridstackNodeOrig=s),n.gridstackNode=s={...s,w:a,h:l,grid:this},delete s.x,delete s.y,this.engine.cleanupNode(s).nodeBoundFix(s),s._initDD=s._isExternal=s._temporaryRemoved=!0):(s.w=a,s.h=l,s._temporaryRemoved=!0),this._itemRemoving(s.el,!1),we.on(n,"drag",r),r(i,n,o),!1})).on(this.el,"dropout",((t,e,r)=>{let i=e.gridstackNode;return!!i&&(i.grid&&i.grid!==this||(this._leave(e,r),this._isTemp&&this.removeAsSubGrid(i)),!1)})).on(this.el,"drop",((t,e,r)=>{let i=e.gridstackNode;if(i?.grid===this&&!i._isExternal)return!1;let n=!!this.placeholder.parentElement;this.placeholder.remove();let o=e._gridstackNodeOrig;if(delete e._gridstackNodeOrig,n&&o?.grid&&o.grid!==this){let t=o.grid;t.engine.removeNodeFromLayoutCache(o),t.engine.removedNodes.push(o),t._triggerRemoveEvent()._triggerChangeEvent(),t.parentGridItem&&!t.engine.nodes.length&&t.opts.subGridDynamic&&t.removeAsSubGrid()}if(!i)return!1;if(n&&(this.engine.cleanupNode(i),i.grid=this),we.off(e,"drag"),r!==e?(r.remove(),e.gridstackNode=o,n&&(e=e.cloneNode(!0))):(e.remove(),this._removeDD(e)),!n)return!1;e.gridstackNode=i,i.el=e;let s=i.subGrid?.el?.gridstack;return Jt.copyPos(i,this._readAttr(this.placeholder)),Jt.removePositioningStyles(e),this._writeAttr(e,i),e.classList.add(ee.itemClass,this.opts.itemClass),this.el.appendChild(e),s&&(s.parentGridItem=i,s.opts.styleInHead||s._updateStyles(!0)),this._updateContainerHeight(),this.engine.addedNodes.push(i),this._triggerAddEvent(),this._triggerChangeEvent(),this.engine.endUpdate(),this._gsEventHandler.dropped&&this._gsEventHandler.dropped({...t,type:"dropped"},o&&o.grid?o:void 0,i),window.setTimeout((()=>{i.el&&i.el.parentElement?this._prepareDragDropByNode(i):this.engine.removeNode(i),delete i.grid._isTemp})),!1})),this}_itemRemoving(t,e){let r=t?t.gridstackNode:void 0;r&&r.grid&&!t.classList.contains(this.opts.removableOptions.decline)&&(e?r._isAboutToRemove=!0:delete r._isAboutToRemove,e?t.classList.add("grid-stack-item-removing"):t.classList.remove("grid-stack-item-removing"))}_setupRemoveDrop(){if(!this.opts.staticGrid&&"string"==typeof this.opts.removable){let t=document.querySelector(this.opts.removable);if(!t)return this;we.isDroppable(t)||we.droppable(t,this.opts.removableOptions).on(t,"dropover",((t,e)=>this._itemRemoving(e,!0))).on(t,"dropout",((t,e)=>this._itemRemoving(e,!1)))}return this}_prepareDragDropByNode(t){let e=t.el;const r=t.noMove||this.opts.disableDrag,i=t.noResize||this.opts.disableResize;if(this.opts.staticGrid||r&&i)return t._initDD&&(this._removeDD(e),delete t._initDD),e.classList.add("ui-draggable-disabled","ui-resizable-disabled"),this;if(!t._initDD){let r,i,n=(n,o)=>{this._gsEventHandler[n.type]&&this._gsEventHandler[n.type](n,n.target),r=this.cellWidth(),i=this.getCellHeight(!0),this._onStartMoving(e,n,o,t,r,i)},o=(n,o)=>{this._dragOrResize(e,n,o,t,r,i)},s=r=>{this.placeholder.remove(),delete t._moving,delete t._event,delete t._lastTried;let i=r.target;if(i.gridstackNode&&i.gridstackNode.grid===this){if(t.el=i,t._isAboutToRemove){let n=e.gridstackNode.grid;n._gsEventHandler[r.type]&&n._gsEventHandler[r.type](r,i),n.engine.nodes.push(t),n.removeWidget(e,!0,!0)}else Jt.removePositioningStyles(i),t._temporaryRemoved?(Jt.copyPos(t,t._orig),this._writePosAttr(i,t),this.engine.addNode(t)):this._writePosAttr(i,t),this._gsEventHandler[r.type]&&this._gsEventHandler[r.type](r,i);this._extraDragRow=0,this._updateContainerHeight(),this._triggerChangeEvent(),this.engine.endUpdate(),"resizestop"===r.type&&(Number.isInteger(t.sizeToContent)&&(t.sizeToContent=t.h),this.doContentResize(!1,!0,t))}};we.draggable(e,{start:n,stop:s,drag:o}).resizable(e,{start:n,stop:s,resize:o}),t._initDD=!0}return we.draggable(e,r?"disable":"enable").resizable(e,i?"disable":"enable"),this}_onStartMoving(t,e,r,i,n,o){this.engine.cleanNodes().beginUpdate(i),this._writePosAttr(this.placeholder,i),this.el.appendChild(this.placeholder),i.el=this.placeholder,i._lastUiPosition=r.position,i._prevYPix=r.position.top,i._moving="dragstart"===e.type,delete i._lastTried,"dropover"===e.type&&i._temporaryRemoved&&(this.engine.addNode(i),i._moving=!0),this.engine.cacheRects(n,o,this.opts.marginTop,this.opts.marginRight,this.opts.marginBottom,this.opts.marginLeft),"resizestart"===e.type&&(we.resizable(t,"option","minWidth",n*(i.minW||1)).resizable(t,"option","minHeight",o*(i.minH||1)),i.maxW&&we.resizable(t,"option","maxWidth",n*i.maxW),i.maxH&&we.resizable(t,"option","maxHeight",o*i.maxH))}_dragOrResize(t,e,r,i,n,o){let s,a={...i._orig},l=this.opts.marginLeft,c=this.opts.marginRight,u=this.opts.marginTop,h=this.opts.marginBottom,d=Math.round(.1*o),p=Math.round(.1*n);if(l=Math.min(l,p),c=Math.min(c,p),u=Math.min(u,d),h=Math.min(h,d),"drag"===e.type){if(i._temporaryRemoved)return;let e=r.position.top-i._prevYPix;i._prevYPix=r.position.top,!1!==this.opts.draggable.scroll&&Jt.updateScrollPosition(t,r.position,e);let s=r.position.left+(r.position.left>i._lastUiPosition.left?-c:l),d=r.position.top+(r.position.top>i._lastUiPosition.top?-h:u);a.x=Math.round(s/n),a.y=Math.round(d/o);let p=this._extraDragRow;if(this.engine.collide(i,a)){let t=this.getRow(),e=Math.max(0,a.y+i.h-t);this.opts.maxRow&&t+e>this.opts.maxRow&&(e=Math.max(0,this.opts.maxRow-t)),this._extraDragRow=e}else this._extraDragRow=0;if(this._extraDragRow!==p&&this._updateContainerHeight(),i.x===a.x&&i.y===a.y)return}else if("resize"===e.type){if(a.x<0)return;if(Jt.updateScrollResize(e,t,o),a.w=Math.round((r.size.width-l)/n),a.h=Math.round((r.size.height-u)/o),i.w===a.w&&i.h===a.h)return;if(i._lastTried&&i._lastTried.w===a.w&&i._lastTried.h===a.h)return;let c=r.position.left+l,h=r.position.top+u;a.x=Math.round(c/n),a.y=Math.round(h/o),s=!0}i._event=e,i._lastTried=a;let f={x:r.position.left+l,y:r.position.top+u,w:(r.size?r.size.width:i.w*n)-l-c,h:(r.size?r.size.height:i.h*o)-u-h};if(this.engine.moveNodeCheck(i,{...a,cellWidth:n,cellHeight:o,rect:f,resizing:s})){i._lastUiPosition=r.position,this.engine.cacheRects(n,o,u,c,h,l),delete i._skipDown,s&&i.subGrid&&i.subGrid.onResize(),this._extraDragRow=0,this._updateContainerHeight();let t=e.target;this._writePosAttr(t,i),this._gsEventHandler[e.type]&&this._gsEventHandler[e.type](e,t)}}_leave(t,e){let r=t.gridstackNode;r&&(we.off(t,"drag"),r._temporaryRemoved||(r._temporaryRemoved=!0,this.engine.removeNode(r),r.el=r._isExternal&&e?e:t,!0===this.opts.removable&&this._itemRemoving(t,!0),t._gridstackNodeOrig?(t.gridstackNode=t._gridstackNodeOrig,delete t._gridstackNodeOrig):r._isExternal&&(delete r.el,delete t.gridstackNode,this.engine.restoreInitial())))}commit(){return function(t,e,r,i,n){let o=(...o)=>(console.warn("gridstack.js: Function `"+r+"` is deprecated in "+n+" and has been replaced with `"+i+"`. It will be **removed** in a future release"),e.apply(t,o));o.prototype=e.prototype}(this,this.batchUpdate(!1),"commit","batchUpdate","5.2"),this}}function xe(t){return xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xe(t)}function Ee(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,i)}return r}function ke(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Ee(Object(r),!0).forEach((function(e){Ce(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ee(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Ce(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==xe(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var i=r.call(t,e||"default");if("object"!==xe(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===xe(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}_e.resizeToContentParent=".grid-stack-item-content",_e.Utils=Jt,_e.Engine=te,_e.GDRev="9.4.0";var Ne=["id"],Se={class:"grid-stack-item-content"};const Oe={props:["widget"]};var je=r(9983),Le={insert:"head",singleton:!1};jt()(je.Z,Le);je.Z.locals;function Re(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"==typeof t)return ze(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ze(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var i=0,n=function(){};return{s:n,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==r.return||r.return()}finally{if(a)throw o}}}}function ze(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,i=new Array(e);r<e;r++)i[r]=t[r];return i}const De={components:{Filter:At,Widget:(0,zt.Z)(Oe,[["render",function(t,e,r,n,o,s){return(0,i.openBlock)(),(0,i.createElementBlock)("div",{class:"grid-stack-item",id:r.widget.key},[(0,i.createElementVNode)("div",Se,[((0,i.openBlock)(),(0,i.createBlock)((0,i.resolveDynamicComponent)(r.widget.component),{class:"h-full w-full",key:"".concat(r.widget.component,".").concat(r.widget.key),card:ke(ke({},r.widget),{},{uriKey:r.widget.key})},null,8,["card"]))])],8,Ne)}]])},props:["card","lens","resourceName","viaResource","viaResourceId","viaRelationship"],data:function(){var t=Nova.store.getters.queryStringParams.view,e=this.card.views.find((function(e){return e.key===t}));return{grid:null,activeView:null!=e?e:this.card.views[0]}},mounted:function(){this.createGrid()},unmounted:function(){this.destroyGrid()},created:function(){var t,e=Re(this.card.views);try{for(e.s();!(t=e.n()).done;){var r,i=t.value,n=Re(i.widgets);try{for(n.s();!(r=n.n()).done;){r.value.view=i.key}}catch(t){n.e(t)}finally{n.f()}this.$store.registerModule(i.key,Kt),this.$store.commit("".concat(i.key,"/storeFilters"),i.filters)}}catch(t){e.e(t)}finally{e.f()}},watch:{activeView:function(){this.createGrid()}},computed:{cacheKey:function(){return"".concat(this.activeView.key,"-widgets")}},methods:{destroyGrid:function(){var t;this.grid&&(this.grid.offAll(),this.grid.destroy(!1),null===(t=this.$refs.gridStack)||void 0===t||t.removeAttribute("gs-static"))},createGrid:function(){var t=this;this.destroyGrid();this.grid=_e.init({staticGrid:this.activeView.static,cellHeight:184,margin:12,animate:!1,auto:!1}),this.$nextTick((function(){var e,r=t.loadGrid(),i=Re(t.activeView.widgets);try{var n=function(){var i=e.value,n=r.find((function(t){return t.id===i.key})),o=!0===t.activeView.static?i:null!=n?n:i;t.grid.makeWidget("#".concat(i.key),{autoPosition:!1,id:i.key,minW:i.minWidth,minH:i.minHeight,x:o.x,y:o.y,w:o.width,h:o.height})};for(i.s();!(e=i.n()).done;)n()}catch(t){i.e(t)}finally{i.f()}t.grid.setAnimation(!0),t.grid.on("drag",(function(){return t.saveGrid()})),t.grid.on("resize",(function(){return t.saveGrid()}))}))},loadGrid:function(){try{var t;return null!==(t=JSON.parse(localStorage.getItem(this.cacheKey)))&&void 0!==t?t:[]}catch(t){return[]}},saveGrid:function(){var t=this.grid.engine.nodes.map((function(t){return{id:t.id,width:t.w,height:t.h,x:t.x,y:t.y}}));localStorage.setItem(this.cacheKey,JSON.stringify(t))},onViewChange:function(t){this.activeView=t}}};var Ae=r(6393),Me={insert:"head",singleton:!1};jt()(Ae.Z,Me);Ae.Z.locals;const Te=(0,zt.Z)(De,[["render",function(t,e,r,a,l,c){var u=(0,i.resolveComponent)("Filter"),h=(0,i.resolveComponent)("Widget");return(0,i.openBlock)(),(0,i.createElementBlock)("div",n,[l.activeView?((0,i.openBlock)(),(0,i.createBlock)(u,{key:0,lens:r.lens,views:r.card.views,"active-view":l.activeView,resource:r.resourceName,"resource-name":l.activeView.key,columns:r.card.columns,"via-resource":r.viaResource,"via-resource-id":r.viaResourceId,"via-relationship":r.viaRelationship,onToggle:c.onViewChange},null,8,["lens","views","active-view","resource","resource-name","columns","via-resource","via-resource-id","via-relationship","onToggle"])):(0,i.createCommentVNode)("",!0),(0,i.createElementVNode)("div",o,[(0,i.createElementVNode)("div",s,[((0,i.openBlock)(!0),(0,i.createElementBlock)(i.Fragment,null,(0,i.renderList)(l.activeView.widgets,(function(t){return(0,i.openBlock)(),(0,i.createBlock)(h,{widget:t,key:t.key},null,8,["widget"])})),128))],512)])])}]]);r(8068),r(5053);r(2236);function Pe(t){t.mixins=t.mixins||[],t.mixins.push({data:function(){return{value:this.card.value,isLoading:!1}},mounted:function(){var t=this;Nova.$on("".concat(this.card.view,"-updated"),(function(e,r){var i=new FormData;i.append("".concat(t.card.view,"_filter"),e),i.append("widget",t.card.key),i.append("view",t.card.view);var n=r?"/".concat(r):"";t.isLoading=!0;var o=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;return Promise.all([t,new Promise((function(t){setTimeout((function(){return t()}),e)}))]).then((function(t){return t[0]}))}(Nova.request({method:"post",url:"/nova-vendor/nova-dashboard/widget/update".concat(n),data:i}));o.then((function(e){return t.value=e.data.value})).finally((function(){return t.isLoading=!1}))}))}})}Nova.booting((function(t){var e,r,i=t.component;e=Nova.pages["Nova.Dashboard"].components.DashboardView,r=e.computed.dashboardEndpoint,e.computed.dashboardEndpoint=function(){return r.call(this)+window.location.search},t.component=function(t,e){return t.endsWith("widget")&&Pe(e),i.call(this,t,e)},t.component("nova-dashboard",Te)}))},6393:(t,e,r)=>{"use strict";r.d(e,{Z:()=>o});var i=r(3645),n=r.n(i)()((function(t){return t[1]}));n.push([t.id,"div[dusk=loading-view]{min-height:auto!important}",""]);const o=n},7785:(t,e,r)=>{"use strict";r.d(e,{Z:()=>o});var i=r(3645),n=r.n(i)()((function(t){return t[1]}));n.push([t.id,".dark .nova-dashboard-filter.\\--expanded[data-v-6f6c4c78]{background-color:rgba(var(--colors-gray-700))}.dark .nova-dashboard-filter.\\--active[data-v-6f6c4c78]{background-color:rgba(var(--colors-primary-500))}.dark .nova-dashboard-filter.\\--active .filter__header[data-v-6f6c4c78]{color:rgba(var(--colors-gray-800))}.dark .nova-dashboard-filter .filter__inner[data-v-6f6c4c78]{background-color:rgba(var(--colors-gray-900))}.dark .nova-dashboard-filter .filter__header[data-v-6f6c4c78]{color:rgba(var(--colors-gray-400))}.dark .nova-dashboard-filter .filter__loop[data-v-6f6c4c78]:hover{border-color:rgba(var(--colors-gray-800))}.nova-dashboard-filter[data-v-6f6c4c78]{--columns-mobile:1;--columns-desktop:2}.nova-dashboard-filter.\\--expanded[data-v-6f6c4c78]{background-color:rgba(var(--colors-gray-200))}.nova-dashboard-filter.\\--active[data-v-6f6c4c78]{background-color:rgba(var(--colors-primary-500))}.nova-dashboard-filter.\\--active .filter__header[data-v-6f6c4c78]{--tw-text-opacity:1;color:rgb(255 255 255/var(--tw-text-opacity))}.nova-dashboard-filter .filter__inner[data-v-6f6c4c78]{--tw-bg-opacity:1;background-color:rgb(255 255 255/var(--tw-bg-opacity))}.nova-dashboard-filter .filter__header[data-v-6f6c4c78]{color:rgba(var(--colors-gray-500))}.nova-dashboard-filter .filter__loop[data-v-6f6c4c78]{border-color:transparent;border-radius:.25rem;border-width:1px;margin:1px;transition-duration:.15s;transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);width:calc(100%/var(--columns-mobile))}.nova-dashboard-filter .filter__loop[data-v-6f6c4c78]:hover{border-color:rgba(var(--colors-gray-200))}@media (min-width:1024px){.nova-dashboard-filter .filter__loop[data-v-6f6c4c78]{width:calc(100%/var(--columns-desktop) - 2px)}}",""]);const o=n},9983:(t,e,r)=>{"use strict";r.d(e,{Z:()=>o});var i=r(3645),n=r.n(i)()((function(t){return t[1]}));n.push([t.id,'.grid-stack{position:relative}.grid-stack-rtl{direction:ltr}.grid-stack-rtl>.grid-stack-item{direction:rtl}.grid-stack-placeholder>.placeholder-content{background-color:rgba(0,0,0,.1);margin:0;position:absolute;width:auto;z-index:0!important}.grid-stack>.grid-stack-item{left:0;padding:0;position:absolute;top:0}.grid-stack>.grid-stack-item>.grid-stack-item-content{margin:0;overflow-x:hidden;overflow-y:auto;position:absolute;width:auto}.grid-stack>.grid-stack-item.size-to-content:not(.size-to-content-max)>.grid-stack-item-content{overflow-y:hidden}.grid-stack-item>.ui-resizable-handle{display:block;font-size:.1px;position:absolute;touch-action:none}.grid-stack-item.ui-resizable-autohide>.ui-resizable-handle,.grid-stack-item.ui-resizable-disabled>.ui-resizable-handle{display:none}.grid-stack-item>.ui-resizable-ne,.grid-stack-item>.ui-resizable-nw,.grid-stack-item>.ui-resizable-se,.grid-stack-item>.ui-resizable-sw{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgdmlld0JveD0iMCAwIDUxMS42MjYgNTExLjYyNyIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgNTExLjYyNiA1MTEuNjI3IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMzI4LjkwNiA0MDEuOTk0aC0zNi41NTNWMTA5LjYzNmgzNi41NTNjNC45NDggMCA5LjIzNi0xLjgwOSAxMi44NDctNS40MjYgMy42MTMtMy42MTUgNS40MjEtNy44OTggNS40MjEtMTIuODQ1IDAtNC45NDktMS44MDEtOS4yMzEtNS40MjgtMTIuODUxbC03My4wODctNzMuMDlDMjY1LjA0NCAxLjgwOSAyNjAuNzYgMCAyNTUuODEzIDBjLTQuOTQ4IDAtOS4yMjkgMS44MDktMTIuODQ3IDUuNDI0bC03My4wODggNzMuMDljLTMuNjE4IDMuNjE5LTUuNDI0IDcuOTAyLTUuNDI0IDEyLjg1MSAwIDQuOTQ2IDEuODA3IDkuMjI5IDUuNDI0IDEyLjg0NSAzLjYxOSAzLjYxNyA3LjkwMSA1LjQyNiAxMi44NSA1LjQyNmgzNi41NDV2MjkyLjM1OGgtMzYuNTQyYy00Ljk1MiAwLTkuMjM1IDEuODA4LTEyLjg1IDUuNDIxLTMuNjE3IDMuNjIxLTUuNDI0IDcuOTA1LTUuNDI0IDEyLjg1NCAwIDQuOTQ1IDEuODA3IDkuMjI3IDUuNDI0IDEyLjg0N2w3My4wODkgNzMuMDg4YzMuNjE3IDMuNjE3IDcuODk4IDUuNDI0IDEyLjg0NyA1LjQyNCA0Ljk1IDAgOS4yMzQtMS44MDcgMTIuODQ5LTUuNDI0bDczLjA4Ny03My4wODhjMy42MTMtMy42MiA1LjQyMS03LjkwMSA1LjQyMS0xMi44NDcgMC00Ljk0OC0xLjgwOC05LjIzMi01LjQyMS0xMi44NTQtMy42MTEtMy42MTMtNy44OTYtNS40MjEtMTIuODQ3LTUuNDIxeiIgZmlsbD0iIzY2NiIvPjwvc3ZnPg==);background-position:50%;background-repeat:no-repeat}.grid-stack-item>.ui-resizable-ne{transform:translateY(10px) rotate(45deg)}.grid-stack-item>.ui-resizable-sw{transform:rotate(45deg)}.grid-stack-item>.ui-resizable-nw{transform:translateY(10px) rotate(-45deg)}.grid-stack-item>.ui-resizable-se{transform:rotate(-45deg)}.grid-stack-item>.ui-resizable-nw{cursor:nw-resize;height:20px;top:0;width:20px}.grid-stack-item>.ui-resizable-n{cursor:n-resize;height:10px;left:25px;right:25px;top:0}.grid-stack-item>.ui-resizable-ne{cursor:ne-resize;height:20px;top:0;width:20px}.grid-stack-item>.ui-resizable-e{bottom:15px;cursor:e-resize;top:15px;width:10px}.grid-stack-item>.ui-resizable-se{cursor:se-resize;height:20px;width:20px}.grid-stack-item>.ui-resizable-s{bottom:0;cursor:s-resize;height:10px;left:25px;right:25px}.grid-stack-item>.ui-resizable-sw{cursor:sw-resize;height:20px;width:20px}.grid-stack-item>.ui-resizable-w{bottom:15px;cursor:w-resize;top:15px;width:10px}.grid-stack-item.ui-draggable-dragging>.ui-resizable-handle{display:none!important}.grid-stack-item.ui-draggable-dragging{cursor:move;will-change:left,top}.grid-stack-item.ui-resizable-resizing{will-change:width,height}.ui-draggable-dragging,.ui-resizable-resizing{z-index:10000}.ui-draggable-dragging>.grid-stack-item-content,.ui-resizable-resizing>.grid-stack-item-content{box-shadow:1px 4px 6px rgba(0,0,0,.2);opacity:.8}.grid-stack-animate,.grid-stack-animate .grid-stack-item{transition:left .3s,top .3s,height .3s,width .3s}.grid-stack-animate .grid-stack-item.grid-stack-placeholder,.grid-stack-animate .grid-stack-item.ui-draggable-dragging,.grid-stack-animate .grid-stack-item.ui-resizable-resizing{transition:left 0s,top 0s,height 0s,width 0s}.gs-12>.grid-stack-item{width:8.333%}.gs-12>.grid-stack-item[gs-x="1"]{left:8.333%}.gs-12>.grid-stack-item[gs-w="2"]{width:16.667%}.gs-12>.grid-stack-item[gs-x="2"]{left:16.667%}.gs-12>.grid-stack-item[gs-w="3"]{width:25%}.gs-12>.grid-stack-item[gs-x="3"]{left:25%}.gs-12>.grid-stack-item[gs-w="4"]{width:33.333%}.gs-12>.grid-stack-item[gs-x="4"]{left:33.333%}.gs-12>.grid-stack-item[gs-w="5"]{width:41.667%}.gs-12>.grid-stack-item[gs-x="5"]{left:41.667%}.gs-12>.grid-stack-item[gs-w="6"]{width:50%}.gs-12>.grid-stack-item[gs-x="6"]{left:50%}.gs-12>.grid-stack-item[gs-w="7"]{width:58.333%}.gs-12>.grid-stack-item[gs-x="7"]{left:58.333%}.gs-12>.grid-stack-item[gs-w="8"]{width:66.667%}.gs-12>.grid-stack-item[gs-x="8"]{left:66.667%}.gs-12>.grid-stack-item[gs-w="9"]{width:75%}.gs-12>.grid-stack-item[gs-x="9"]{left:75%}.gs-12>.grid-stack-item[gs-w="10"]{width:83.333%}.gs-12>.grid-stack-item[gs-x="10"]{left:83.333%}.gs-12>.grid-stack-item[gs-w="11"]{width:91.667%}.gs-12>.grid-stack-item[gs-x="11"]{left:91.667%}.gs-12>.grid-stack-item[gs-w="12"],.gs-1>.grid-stack-item{width:100%}',""]);const o=n},3645:t=>{"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var r=t(e);return e[2]?"@media ".concat(e[2]," {").concat(r,"}"):r})).join("")},e.i=function(t,r,i){"string"==typeof t&&(t=[[null,t,""]]);var n={};if(i)for(var o=0;o<this.length;o++){var s=this[o][0];null!=s&&(n[s]=!0)}for(var a=0;a<t.length;a++){var l=[].concat(t[a]);i&&n[l[0]]||(r&&(l[2]?l[2]="".concat(r," and ").concat(l[2]):l[2]=r),e.push(l))}},e}},9962:()=>{},3379:(t,e,r)=>{"use strict";var i,n=function(){return void 0===i&&(i=Boolean(window&&document&&document.all&&!window.atob)),i},o=function(){var t={};return function(e){if(void 0===t[e]){var r=document.querySelector(e);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(t){r=null}t[e]=r}return t[e]}}(),s=[];function a(t){for(var e=-1,r=0;r<s.length;r++)if(s[r].identifier===t){e=r;break}return e}function l(t,e){for(var r={},i=[],n=0;n<t.length;n++){var o=t[n],l=e.base?o[0]+e.base:o[0],c=r[l]||0,u="".concat(l," ").concat(c);r[l]=c+1;var h=a(u),d={css:o[1],media:o[2],sourceMap:o[3]};-1!==h?(s[h].references++,s[h].updater(d)):s.push({identifier:u,updater:m(d,e),references:1}),i.push(u)}return i}function c(t){var e=document.createElement("style"),i=t.attributes||{};if(void 0===i.nonce){var n=r.nc;n&&(i.nonce=n)}if(Object.keys(i).forEach((function(t){e.setAttribute(t,i[t])})),"function"==typeof t.insert)t.insert(e);else{var s=o(t.insert||"head");if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");s.appendChild(e)}return e}var u,h=(u=[],function(t,e){return u[t]=e,u.filter(Boolean).join("\n")});function d(t,e,r,i){var n=r?"":i.media?"@media ".concat(i.media," {").concat(i.css,"}"):i.css;if(t.styleSheet)t.styleSheet.cssText=h(e,n);else{var o=document.createTextNode(n),s=t.childNodes;s[e]&&t.removeChild(s[e]),s.length?t.insertBefore(o,s[e]):t.appendChild(o)}}function p(t,e,r){var i=r.css,n=r.media,o=r.sourceMap;if(n?t.setAttribute("media",n):t.removeAttribute("media"),o&&"undefined"!=typeof btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleSheet)t.styleSheet.cssText=i;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(i))}}var f=null,g=0;function m(t,e){var r,i,n;if(e.singleton){var o=g++;r=f||(f=c(e)),i=d.bind(null,r,o,!1),n=d.bind(null,r,o,!0)}else r=c(e),i=p.bind(null,r,e),n=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(r)};return i(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;i(t=e)}else n()}}t.exports=function(t,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=n());var r=l(t=t||[],e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var i=0;i<r.length;i++){var n=a(r[i]);s[n].references--}for(var o=l(t,e),c=0;c<r.length;c++){var u=a(r[c]);0===s[u].references&&(s[u].updater(),s.splice(u,1))}r=o}}}},3744:(t,e)=>{"use strict";e.Z=(t,e)=>{const r=t.__vccOpts||t;for(const[t,i]of e)r[t]=i;return r}},8068:t=>{"use strict";var e={uncountableWords:["equipment","information","rice","money","species","series","fish","sheep","moose","deer","news"],pluralRules:[[new RegExp("(m)an$","gi"),"$1en"],[new RegExp("(pe)rson$","gi"),"$1ople"],[new RegExp("(child)$","gi"),"$1ren"],[new RegExp("^(ox)$","gi"),"$1en"],[new RegExp("(ax|test)is$","gi"),"$1es"],[new RegExp("(octop|vir)us$","gi"),"$1i"],[new RegExp("(alias|status)$","gi"),"$1es"],[new RegExp("(bu)s$","gi"),"$1ses"],[new RegExp("(buffal|tomat|potat)o$","gi"),"$1oes"],[new RegExp("([ti])um$","gi"),"$1a"],[new RegExp("sis$","gi"),"ses"],[new RegExp("(?:([^f])fe|([lr])f)$","gi"),"$1$2ves"],[new RegExp("(hive)$","gi"),"$1s"],[new RegExp("([^aeiouy]|qu)y$","gi"),"$1ies"],[new RegExp("(x|ch|ss|sh)$","gi"),"$1es"],[new RegExp("(matr|vert|ind)ix|ex$","gi"),"$1ices"],[new RegExp("([m|l])ouse$","gi"),"$1ice"],[new RegExp("(quiz)$","gi"),"$1zes"],[new RegExp("s$","gi"),"s"],[new RegExp("$","gi"),"s"]],singularRules:[[new RegExp("(m)en$","gi"),"$1an"],[new RegExp("(pe)ople$","gi"),"$1rson"],[new RegExp("(child)ren$","gi"),"$1"],[new RegExp("([ti])a$","gi"),"$1um"],[new RegExp("((a)naly|(b)a|(d)iagno|(p)arenthe|(p)rogno|(s)ynop|(t)he)ses$","gi"),"$1$2sis"],[new RegExp("(hive)s$","gi"),"$1"],[new RegExp("(tive)s$","gi"),"$1"],[new RegExp("(curve)s$","gi"),"$1"],[new RegExp("([lr])ves$","gi"),"$1f"],[new RegExp("([^fo])ves$","gi"),"$1fe"],[new RegExp("([^aeiouy]|qu)ies$","gi"),"$1y"],[new RegExp("(s)eries$","gi"),"$1eries"],[new RegExp("(m)ovies$","gi"),"$1ovie"],[new RegExp("(x|ch|ss|sh)es$","gi"),"$1"],[new RegExp("([m|l])ice$","gi"),"$1ouse"],[new RegExp("(bus)es$","gi"),"$1"],[new RegExp("(o)es$","gi"),"$1"],[new RegExp("(shoe)s$","gi"),"$1"],[new RegExp("(cris|ax|test)es$","gi"),"$1is"],[new RegExp("(octop|vir)i$","gi"),"$1us"],[new RegExp("(alias|status)es$","gi"),"$1"],[new RegExp("^(ox)en","gi"),"$1"],[new RegExp("(vert|ind)ices$","gi"),"$1ex"],[new RegExp("(matr)ices$","gi"),"$1ix"],[new RegExp("(quiz)zes$","gi"),"$1"],[new RegExp("s$","gi"),""]],nonTitlecasedWords:["and","or","nor","a","an","the","so","but","to","of","at","by","from","into","on","onto","off","out","in","over","with","for"],idSuffix:new RegExp("(_ids|_id)$","g"),underbar:new RegExp("_","g"),spaceOrUnderbar:new RegExp("[ _]","g"),uppercase:new RegExp("([A-Z])","g"),underbarPrefix:new RegExp("^_"),applyRules:function(t,e,r,i){if(i)t=i;else if(!(r.indexOf(t.toLowerCase())>-1))for(var n=0;n<e.length;n++)if(t.match(e[n][0])){t=t.replace(e[n][0],e[n][1]);break}return t},pluralize:function(t,e){return this.applyRules(t,this.pluralRules,this.uncountableWords,e)},singularize:function(t,e){return this.applyRules(t,this.singularRules,this.uncountableWords,e)},camelize:function(t,e){for(var r=t.split("/"),i=0;i<r.length;i++){for(var n=r[i].split("_"),o=e&&i+1===r.length?1:0;o<n.length;o++)n[o]=n[o].charAt(0).toUpperCase()+n[o].substring(1);r[i]=n.join("")}if(t=r.join("::"),!0===e){var s=t.charAt(0).toLowerCase(),a=t.slice(1);t=s+a}return t},underscore:function(t){for(var e=t.split("::"),r=0;r<e.length;r++)e[r]=e[r].replace(this.uppercase,"_$1"),e[r]=e[r].replace(this.underbarPrefix,"");return t=e.join("/").toLowerCase()},humanize:function(t,e){return t=(t=(t=t.toLowerCase()).replace(this.idSuffix,"")).replace(this.underbar," "),e||(t=this.capitalize(t)),t},capitalize:function(t){return t=(t=t.toLowerCase()).substring(0,1).toUpperCase()+t.substring(1)},dasherize:function(t){return t=t.replace(this.spaceOrUnderbar,"-")},camel2words:function(t,e){!0===e?(t=this.camelize(t),t=this.underscore(t)):t=t.toLowerCase();for(var r=(t=t.replace(this.underbar," ")).split(" "),i=0;i<r.length;i++){for(var n=r[i].split("-"),o=0;o<n.length;o++)this.nonTitlecasedWords.indexOf(n[o].toLowerCase())<0&&(n[o]=this.capitalize(n[o]));r[i]=n.join("-")}return t=(t=r.join(" ")).substring(0,1).toUpperCase()+t.substring(1)},demodulize:function(t){var e=t.split("::");return t=e[e.length-1]},tableize:function(t){return t=this.pluralize(this.underscore(t))},classify:function(t){return t=this.singularize(this.camelize(t))},foreignKey:function(t,e){return t=this.underscore(this.demodulize(t))+(e?"":"_")+"id"},ordinalize:function(t){for(var e=t.split(" "),r=0;r<e.length;r++){if(NaN===parseInt(e[r])){var i=e[r].substring(e[r].length-2),n=e[r].substring(e[r].length-1),o="th";"11"!=i&&"12"!=i&&"13"!=i&&("1"===n?o="st":"2"===n?o="nd":"3"===n&&(o="rd")),e[r]+=o}}return t=e.join(" ")}};t.exports=e},5368:(t,e,r)=>{var i=r(7003)(r(2857),"DataView");t.exports=i},2254:(t,e,r)=>{var i=r(3779),n=r(3451),o=r(2208),s=r(5655),a=r(5177);function l(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var i=t[e];this.set(i[0],i[1])}}l.prototype.clear=i,l.prototype.delete=n,l.prototype.get=o,l.prototype.has=s,l.prototype.set=a,t.exports=l},2420:(t,e,r)=>{var i=r(4323),n=r(235),o=r(2161),s=r(8371),a=r(9290);function l(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var i=t[e];this.set(i[0],i[1])}}l.prototype.clear=i,l.prototype.delete=n,l.prototype.get=o,l.prototype.has=s,l.prototype.set=a,t.exports=l},8373:(t,e,r)=>{var i=r(7003)(r(2857),"Map");t.exports=i},3489:(t,e,r)=>{var i=r(5734),n=r(4817),o=r(491),s=r(5359),a=r(8150);function l(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var i=t[e];this.set(i[0],i[1])}}l.prototype.clear=i,l.prototype.delete=n,l.prototype.get=o,l.prototype.has=s,l.prototype.set=a,t.exports=l},800:(t,e,r)=>{var i=r(7003)(r(2857),"Promise");t.exports=i},3106:(t,e,r)=>{var i=r(7003)(r(2857),"Set");t.exports=i},9855:(t,e,r)=>{var i=r(3489),n=r(3005),o=r(4465);function s(t){var e=-1,r=null==t?0:t.length;for(this.__data__=new i;++e<r;)this.add(t[e])}s.prototype.add=s.prototype.push=n,s.prototype.has=o,t.exports=s},1123:(t,e,r)=>{var i=r(2420),n=r(5025),o=r(5189),s=r(9316),a=r(536),l=r(6287);function c(t){var e=this.__data__=new i(t);this.size=e.size}c.prototype.clear=n,c.prototype.delete=o,c.prototype.get=s,c.prototype.has=a,c.prototype.set=l,t.exports=c},5760:(t,e,r)=>{var i=r(2857).Symbol;t.exports=i},6102:(t,e,r)=>{var i=r(2857).Uint8Array;t.exports=i},8471:(t,e,r)=>{var i=r(7003)(r(2857),"WeakMap");t.exports=i},7344:t=>{t.exports=function(t,e){for(var r=-1,i=null==t?0:t.length;++r<i&&!1!==e(t[r],r,t););return t}},6811:t=>{t.exports=function(t,e){for(var r=-1,i=null==t?0:t.length,n=0,o=[];++r<i;){var s=t[r];e(s,r,t)&&(o[n++]=s)}return o}},3809:(t,e,r)=>{var i=r(1501),n=r(8033),o=r(3561),s=r(8370),a=r(3468),l=r(1073),c=Object.prototype.hasOwnProperty;t.exports=function(t,e){var r=o(t),u=!r&&n(t),h=!r&&!u&&s(t),d=!r&&!u&&!h&&l(t),p=r||u||h||d,f=p?i(t.length,String):[],g=f.length;for(var m in t)!e&&!c.call(t,m)||p&&("length"==m||h&&("offset"==m||"parent"==m)||d&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||a(m,g))||f.push(m);return f}},2593:t=>{t.exports=function(t,e){for(var r=-1,i=null==t?0:t.length,n=Array(i);++r<i;)n[r]=e(t[r],r,t);return n}},5846:t=>{t.exports=function(t,e){for(var r=-1,i=e.length,n=t.length;++r<i;)t[n+r]=e[r];return t}},9026:t=>{t.exports=function(t,e,r,i){var n=-1,o=null==t?0:t.length;for(i&&o&&(r=t[++n]);++n<o;)r=e(r,t[n],n,t);return r}},7451:t=>{t.exports=function(t,e){for(var r=-1,i=null==t?0:t.length;++r<i;)if(e(t[r],r,t))return!0;return!1}},5044:t=>{t.exports=function(t){return t.split("")}},3210:(t,e,r)=>{var i=r(493),n=r(3519),o=Object.prototype.hasOwnProperty;t.exports=function(t,e,r){var s=t[e];o.call(t,e)&&n(s,r)&&(void 0!==r||e in t)||i(t,e,r)}},5108:(t,e,r)=>{var i=r(3519);t.exports=function(t,e){for(var r=t.length;r--;)if(i(t[r][0],e))return r;return-1}},725:(t,e,r)=>{var i=r(9584),n=r(3894);t.exports=function(t,e){return t&&i(e,n(e),t)}},194:(t,e,r)=>{var i=r(9584),n=r(5499);t.exports=function(t,e){return t&&i(e,n(e),t)}},493:(t,e,r)=>{var i=r(9236);t.exports=function(t,e,r){"__proto__"==e&&i?i(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}},787:(t,e,r)=>{var i=r(1123),n=r(7344),o=r(3210),s=r(725),a=r(194),l=r(6906),c=r(8436),u=r(5827),h=r(8849),d=r(5989),p=r(4450),f=r(1381),g=r(2063),m=r(9826),v=r(5193),y=r(3561),b=r(8370),w=r(6806),_=r(9323),x=r(1642),E=r(3894),k=r(5499),C="[object Arguments]",N="[object Function]",S="[object Object]",O={};O[C]=O["[object Array]"]=O["[object ArrayBuffer]"]=O["[object DataView]"]=O["[object Boolean]"]=O["[object Date]"]=O["[object Float32Array]"]=O["[object Float64Array]"]=O["[object Int8Array]"]=O["[object Int16Array]"]=O["[object Int32Array]"]=O["[object Map]"]=O["[object Number]"]=O[S]=O["[object RegExp]"]=O["[object Set]"]=O["[object String]"]=O["[object Symbol]"]=O["[object Uint8Array]"]=O["[object Uint8ClampedArray]"]=O["[object Uint16Array]"]=O["[object Uint32Array]"]=!0,O["[object Error]"]=O[N]=O["[object WeakMap]"]=!1,t.exports=function t(e,r,j,L,R,z){var D,A=1&r,M=2&r,T=4&r;if(j&&(D=R?j(e,L,R,z):j(e)),void 0!==D)return D;if(!_(e))return e;var P=y(e);if(P){if(D=g(e),!A)return c(e,D)}else{var H=f(e),I=H==N||"[object GeneratorFunction]"==H;if(b(e))return l(e,A);if(H==S||H==C||I&&!R){if(D=M||I?{}:v(e),!A)return M?h(e,a(D,e)):u(e,s(D,e))}else{if(!O[H])return R?e:{};D=m(e,H,A)}}z||(z=new i);var $=z.get(e);if($)return $;z.set(e,D),x(e)?e.forEach((function(i){D.add(t(i,r,j,i,e,z))})):w(e)&&e.forEach((function(i,n){D.set(n,t(i,r,j,n,e,z))}));var G=P?void 0:(T?M?p:d:M?k:E)(e);return n(G||e,(function(i,n){G&&(i=e[n=i]),o(D,n,t(i,r,j,n,e,z))})),D}},2942:(t,e,r)=>{var i=r(9323),n=Object.create,o=function(){function t(){}return function(e){if(!i(e))return{};if(n)return n(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}();t.exports=o},8441:(t,e,r)=>{var i=r(6425),n=r(6699)(i);t.exports=n},6768:(t,e,r)=>{var i=r(8441);t.exports=function(t,e){var r=[];return i(t,(function(t,i,n){e(t,i,n)&&r.push(t)})),r}},4308:t=>{t.exports=function(t,e,r,i){for(var n=t.length,o=r+(i?1:-1);i?o--:++o<n;)if(e(t[o],o,t))return o;return-1}},7151:(t,e,r)=>{var i=r(5722)();t.exports=i},6425:(t,e,r)=>{var i=r(7151),n=r(3894);t.exports=function(t,e){return t&&i(t,e,n)}},847:(t,e,r)=>{var i=r(2679),n=r(2152);t.exports=function(t,e){for(var r=0,o=(e=i(e,t)).length;null!=t&&r<o;)t=t[n(e[r++])];return r&&r==o?t:void 0}},9818:(t,e,r)=>{var i=r(5846),n=r(3561);t.exports=function(t,e,r){var o=e(t);return n(t)?o:i(o,r(t))}},4885:(t,e,r)=>{var i=r(5760),n=r(3486),o=r(7851),s=i?i.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":s&&s in Object(t)?n(t):o(t)}},3754:t=>{t.exports=function(t,e){return null!=t&&e in Object(t)}},624:(t,e,r)=>{var i=r(4885),n=r(6843);t.exports=function(t){return n(t)&&"[object Arguments]"==i(t)}},9608:(t,e,r)=>{var i=r(2647),n=r(6843);t.exports=function t(e,r,o,s,a){return e===r||(null==e||null==r||!n(e)&&!n(r)?e!=e&&r!=r:i(e,r,o,s,t,a))}},2647:(t,e,r)=>{var i=r(1123),n=r(7957),o=r(5103),s=r(1803),a=r(1381),l=r(3561),c=r(8370),u=r(1073),h="[object Arguments]",d="[object Array]",p="[object Object]",f=Object.prototype.hasOwnProperty;t.exports=function(t,e,r,g,m,v){var y=l(t),b=l(e),w=y?d:a(t),_=b?d:a(e),x=(w=w==h?p:w)==p,E=(_=_==h?p:_)==p,k=w==_;if(k&&c(t)){if(!c(e))return!1;y=!0,x=!1}if(k&&!x)return v||(v=new i),y||u(t)?n(t,e,r,g,m,v):o(t,e,w,r,g,m,v);if(!(1&r)){var C=x&&f.call(t,"__wrapped__"),N=E&&f.call(e,"__wrapped__");if(C||N){var S=C?t.value():t,O=N?e.value():e;return v||(v=new i),m(S,O,r,g,v)}}return!!k&&(v||(v=new i),s(t,e,r,g,m,v))}},7455:(t,e,r)=>{var i=r(1381),n=r(6843);t.exports=function(t){return n(t)&&"[object Map]"==i(t)}},5635:(t,e,r)=>{var i=r(1123),n=r(9608);t.exports=function(t,e,r,o){var s=r.length,a=s,l=!o;if(null==t)return!a;for(t=Object(t);s--;){var c=r[s];if(l&&c[2]?c[1]!==t[c[0]]:!(c[0]in t))return!1}for(;++s<a;){var u=(c=r[s])[0],h=t[u],d=c[1];if(l&&c[2]){if(void 0===h&&!(u in t))return!1}else{var p=new i;if(o)var f=o(h,d,u,t,e,p);if(!(void 0===f?n(d,h,3,o,p):f))return!1}}return!0}},5863:(t,e,r)=>{var i=r(3079),n=r(620),o=r(9323),s=r(6151),a=/^\[object .+?Constructor\]$/,l=Function.prototype,c=Object.prototype,u=l.toString,h=c.hasOwnProperty,d=RegExp("^"+u.call(h).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!o(t)||n(t))&&(i(t)?d:a).test(s(t))}},9202:(t,e,r)=>{var i=r(1381),n=r(6843);t.exports=function(t){return n(t)&&"[object Set]"==i(t)}},7939:(t,e,r)=>{var i=r(4885),n=r(9470),o=r(6843),s={};s["[object Float32Array]"]=s["[object Float64Array]"]=s["[object Int8Array]"]=s["[object Int16Array]"]=s["[object Int32Array]"]=s["[object Uint8Array]"]=s["[object Uint8ClampedArray]"]=s["[object Uint16Array]"]=s["[object Uint32Array]"]=!0,s["[object Arguments]"]=s["[object Array]"]=s["[object ArrayBuffer]"]=s["[object Boolean]"]=s["[object DataView]"]=s["[object Date]"]=s["[object Error]"]=s["[object Function]"]=s["[object Map]"]=s["[object Number]"]=s["[object Object]"]=s["[object RegExp]"]=s["[object Set]"]=s["[object String]"]=s["[object WeakMap]"]=!1,t.exports=function(t){return o(t)&&n(t.length)&&!!s[i(t)]}},9056:(t,e,r)=>{var i=r(8453),n=r(7538),o=r(2512),s=r(3561),a=r(1474);t.exports=function(t){return"function"==typeof t?t:null==t?o:"object"==typeof t?s(t)?n(t[0],t[1]):i(t):a(t)}},9199:(t,e,r)=>{var i=r(3323),n=r(3524),o=Object.prototype.hasOwnProperty;t.exports=function(t){if(!i(t))return n(t);var e=[];for(var r in Object(t))o.call(t,r)&&"constructor"!=r&&e.push(r);return e}},339:(t,e,r)=>{var i=r(9323),n=r(3323),o=r(7210),s=Object.prototype.hasOwnProperty;t.exports=function(t){if(!i(t))return o(t);var e=n(t),r=[];for(var a in t)("constructor"!=a||!e&&s.call(t,a))&&r.push(a);return r}},3076:(t,e,r)=>{var i=r(8441),n=r(5898);t.exports=function(t,e){var r=-1,o=n(t)?Array(t.length):[];return i(t,(function(t,i,n){o[++r]=e(t,i,n)})),o}},8453:(t,e,r)=>{var i=r(5635),n=r(8210),o=r(1055);t.exports=function(t){var e=n(t);return 1==e.length&&e[0][2]?o(e[0][0],e[0][1]):function(r){return r===t||i(r,t,e)}}},7538:(t,e,r)=>{var i=r(9608),n=r(851),o=r(2794),s=r(7561),a=r(4986),l=r(1055),c=r(2152);t.exports=function(t,e){return s(t)&&a(e)?l(c(t),e):function(r){var s=n(r,t);return void 0===s&&s===e?o(r,t):i(e,s,3)}}},7375:(t,e,r)=>{var i=r(847),n=r(1647),o=r(2679);t.exports=function(t,e,r){for(var s=-1,a=e.length,l={};++s<a;){var c=e[s],u=i(t,c);r(u,c)&&n(l,o(c,t),u)}return l}},6655:t=>{t.exports=function(t){return function(e){return null==e?void 0:e[t]}}},6891:(t,e,r)=>{var i=r(847);t.exports=function(t){return function(e){return i(e,t)}}},6073:t=>{t.exports=function(t,e,r,i,n){return n(t,(function(t,n,o){r=i?(i=!1,t):e(r,t,n,o)})),r}},1647:(t,e,r)=>{var i=r(3210),n=r(2679),o=r(3468),s=r(9323),a=r(2152);t.exports=function(t,e,r,l){if(!s(t))return t;for(var c=-1,u=(e=n(e,t)).length,h=u-1,d=t;null!=d&&++c<u;){var p=a(e[c]),f=r;if("__proto__"===p||"constructor"===p||"prototype"===p)return t;if(c!=h){var g=d[p];void 0===(f=l?l(g,p,d):void 0)&&(f=s(g)?g:o(e[c+1])?[]:{})}i(d,p,f),d=d[p]}return t}},2175:t=>{t.exports=function(t,e,r){var i=-1,n=t.length;e<0&&(e=-e>n?0:n+e),(r=r>n?n:r)<0&&(r+=n),n=e>r?0:r-e>>>0,e>>>=0;for(var o=Array(n);++i<n;)o[i]=t[i+e];return o}},1501:t=>{t.exports=function(t,e){for(var r=-1,i=Array(t);++r<t;)i[r]=e(r);return i}},7047:(t,e,r)=>{var i=r(5760),n=r(2593),o=r(3561),s=r(3716),a=i?i.prototype:void 0,l=a?a.toString:void 0;t.exports=function t(e){if("string"==typeof e)return e;if(o(e))return n(e,t)+"";if(s(e))return l?l.call(e):"";var r=e+"";return"0"==r&&1/e==-Infinity?"-0":r}},1091:(t,e,r)=>{var i=r(4077),n=/^\s+/;t.exports=function(t){return t?t.slice(0,i(t)+1).replace(n,""):t}},6791:t=>{t.exports=function(t){return function(e){return t(e)}}},4562:t=>{t.exports=function(t,e){return t.has(e)}},5404:(t,e,r)=>{var i=r(2512);t.exports=function(t){return"function"==typeof t?t:i}},2679:(t,e,r)=>{var i=r(3561),n=r(7561),o=r(6966),s=r(5894);t.exports=function(t,e){return i(t)?t:n(t,e)?[t]:o(s(t))}},4477:(t,e,r)=>{var i=r(2175);t.exports=function(t,e,r){var n=t.length;return r=void 0===r?n:r,!e&&r>=n?t:i(t,e,r)}},6411:(t,e,r)=>{var i=r(6102);t.exports=function(t){var e=new t.constructor(t.byteLength);return new i(e).set(new i(t)),e}},6906:(t,e,r)=>{t=r.nmd(t);var i=r(2857),n=e&&!e.nodeType&&e,o=n&&t&&!t.nodeType&&t,s=o&&o.exports===n?i.Buffer:void 0,a=s?s.allocUnsafe:void 0;t.exports=function(t,e){if(e)return t.slice();var r=t.length,i=a?a(r):new t.constructor(r);return t.copy(i),i}},5771:(t,e,r)=>{var i=r(6411);t.exports=function(t,e){var r=e?i(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}},9463:t=>{var e=/\w*$/;t.exports=function(t){var r=new t.constructor(t.source,e.exec(t));return r.lastIndex=t.lastIndex,r}},2596:(t,e,r)=>{var i=r(5760),n=i?i.prototype:void 0,o=n?n.valueOf:void 0;t.exports=function(t){return o?Object(o.call(t)):{}}},9208:(t,e,r)=>{var i=r(6411);t.exports=function(t,e){var r=e?i(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}},8436:t=>{t.exports=function(t,e){var r=-1,i=t.length;for(e||(e=Array(i));++r<i;)e[r]=t[r];return e}},9584:(t,e,r)=>{var i=r(3210),n=r(493);t.exports=function(t,e,r,o){var s=!r;r||(r={});for(var a=-1,l=e.length;++a<l;){var c=e[a],u=o?o(r[c],t[c],c,r,t):void 0;void 0===u&&(u=t[c]),s?n(r,c,u):i(r,c,u)}return r}},5827:(t,e,r)=>{var i=r(9584),n=r(9701);t.exports=function(t,e){return i(t,n(t),e)}},8849:(t,e,r)=>{var i=r(9584),n=r(3943);t.exports=function(t,e){return i(t,n(t),e)}},7292:(t,e,r)=>{var i=r(2857)["__core-js_shared__"];t.exports=i},6699:(t,e,r)=>{var i=r(5898);t.exports=function(t,e){return function(r,n){if(null==r)return r;if(!i(r))return t(r,n);for(var o=r.length,s=e?o:-1,a=Object(r);(e?s--:++s<o)&&!1!==n(a[s],s,a););return r}}},5722:t=>{t.exports=function(t){return function(e,r,i){for(var n=-1,o=Object(e),s=i(e),a=s.length;a--;){var l=s[t?a:++n];if(!1===r(o[l],l,o))break}return e}}},7920:(t,e,r)=>{var i=r(4477),n=r(5733),o=r(7422),s=r(5894);t.exports=function(t){return function(e){e=s(e);var r=n(e)?o(e):void 0,a=r?r[0]:e.charAt(0),l=r?i(r,1).join(""):e.slice(1);return a[t]()+l}}},6526:(t,e,r)=>{var i=r(9056),n=r(5898),o=r(3894);t.exports=function(t){return function(e,r,s){var a=Object(e);if(!n(e)){var l=i(r,3);e=o(e),r=function(t){return l(a[t],t,a)}}var c=t(e,r,s);return c>-1?a[l?e[c]:c]:void 0}}},9236:(t,e,r)=>{var i=r(7003),n=function(){try{var t=i(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();t.exports=n},7957:(t,e,r)=>{var i=r(9855),n=r(7451),o=r(4562);t.exports=function(t,e,r,s,a,l){var c=1&r,u=t.length,h=e.length;if(u!=h&&!(c&&h>u))return!1;var d=l.get(t),p=l.get(e);if(d&&p)return d==e&&p==t;var f=-1,g=!0,m=2&r?new i:void 0;for(l.set(t,e),l.set(e,t);++f<u;){var v=t[f],y=e[f];if(s)var b=c?s(y,v,f,e,t,l):s(v,y,f,t,e,l);if(void 0!==b){if(b)continue;g=!1;break}if(m){if(!n(e,(function(t,e){if(!o(m,e)&&(v===t||a(v,t,r,s,l)))return m.push(e)}))){g=!1;break}}else if(v!==y&&!a(v,y,r,s,l)){g=!1;break}}return l.delete(t),l.delete(e),g}},5103:(t,e,r)=>{var i=r(5760),n=r(6102),o=r(3519),s=r(7957),a=r(2391),l=r(7701),c=i?i.prototype:void 0,u=c?c.valueOf:void 0;t.exports=function(t,e,r,i,c,h,d){switch(r){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!h(new n(t),new n(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return o(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var p=a;case"[object Set]":var f=1&i;if(p||(p=l),t.size!=e.size&&!f)return!1;var g=d.get(t);if(g)return g==e;i|=2,d.set(t,e);var m=s(p(t),p(e),i,c,h,d);return d.delete(t),m;case"[object Symbol]":if(u)return u.call(t)==u.call(e)}return!1}},1803:(t,e,r)=>{var i=r(5989),n=Object.prototype.hasOwnProperty;t.exports=function(t,e,r,o,s,a){var l=1&r,c=i(t),u=c.length;if(u!=i(e).length&&!l)return!1;for(var h=u;h--;){var d=c[h];if(!(l?d in e:n.call(e,d)))return!1}var p=a.get(t),f=a.get(e);if(p&&f)return p==e&&f==t;var g=!0;a.set(t,e),a.set(e,t);for(var m=l;++h<u;){var v=t[d=c[h]],y=e[d];if(o)var b=l?o(y,v,d,e,t,a):o(v,y,d,t,e,a);if(!(void 0===b?v===y||s(v,y,r,o,a):b)){g=!1;break}m||(m="constructor"==d)}if(g&&!m){var w=t.constructor,_=e.constructor;w==_||!("constructor"in t)||!("constructor"in e)||"function"==typeof w&&w instanceof w&&"function"==typeof _&&_ instanceof _||(g=!1)}return a.delete(t),a.delete(e),g}},3732:(t,e,r)=>{var i="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g;t.exports=i},5989:(t,e,r)=>{var i=r(9818),n=r(9701),o=r(3894);t.exports=function(t){return i(t,o,n)}},4450:(t,e,r)=>{var i=r(9818),n=r(3943),o=r(5499);t.exports=function(t){return i(t,o,n)}},4440:(t,e,r)=>{var i=r(9286);t.exports=function(t,e){var r=t.__data__;return i(e)?r["string"==typeof e?"string":"hash"]:r.map}},8210:(t,e,r)=>{var i=r(4986),n=r(3894);t.exports=function(t){for(var e=n(t),r=e.length;r--;){var o=e[r],s=t[o];e[r]=[o,s,i(s)]}return e}},7003:(t,e,r)=>{var i=r(5863),n=r(2452);t.exports=function(t,e){var r=n(t,e);return i(r)?r:void 0}},1616:(t,e,r)=>{var i=r(4821)(Object.getPrototypeOf,Object);t.exports=i},3486:(t,e,r)=>{var i=r(5760),n=Object.prototype,o=n.hasOwnProperty,s=n.toString,a=i?i.toStringTag:void 0;t.exports=function(t){var e=o.call(t,a),r=t[a];try{t[a]=void 0;var i=!0}catch(t){}var n=s.call(t);return i&&(e?t[a]=r:delete t[a]),n}},9701:(t,e,r)=>{var i=r(6811),n=r(5669),o=Object.prototype.propertyIsEnumerable,s=Object.getOwnPropertySymbols,a=s?function(t){return null==t?[]:(t=Object(t),i(s(t),(function(e){return o.call(t,e)})))}:n;t.exports=a},3943:(t,e,r)=>{var i=r(5846),n=r(1616),o=r(9701),s=r(5669),a=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)i(e,o(t)),t=n(t);return e}:s;t.exports=a},1381:(t,e,r)=>{var i=r(5368),n=r(8373),o=r(800),s=r(3106),a=r(8471),l=r(4885),c=r(6151),u="[object Map]",h="[object Promise]",d="[object Set]",p="[object WeakMap]",f="[object DataView]",g=c(i),m=c(n),v=c(o),y=c(s),b=c(a),w=l;(i&&w(new i(new ArrayBuffer(1)))!=f||n&&w(new n)!=u||o&&w(o.resolve())!=h||s&&w(new s)!=d||a&&w(new a)!=p)&&(w=function(t){var e=l(t),r="[object Object]"==e?t.constructor:void 0,i=r?c(r):"";if(i)switch(i){case g:return f;case m:return u;case v:return h;case y:return d;case b:return p}return e}),t.exports=w},2452:t=>{t.exports=function(t,e){return null==t?void 0:t[e]}},575:(t,e,r)=>{var i=r(2679),n=r(8033),o=r(3561),s=r(3468),a=r(9470),l=r(2152);t.exports=function(t,e,r){for(var c=-1,u=(e=i(e,t)).length,h=!1;++c<u;){var d=l(e[c]);if(!(h=null!=t&&r(t,d)))break;t=t[d]}return h||++c!=u?h:!!(u=null==t?0:t.length)&&a(u)&&s(d,u)&&(o(t)||n(t))}},5733:t=>{var e=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");t.exports=function(t){return e.test(t)}},3779:(t,e,r)=>{var i=r(8044);t.exports=function(){this.__data__=i?i(null):{},this.size=0}},3451:t=>{t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},2208:(t,e,r)=>{var i=r(8044),n=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(i){var r=e[t];return"__lodash_hash_undefined__"===r?void 0:r}return n.call(e,t)?e[t]:void 0}},5655:(t,e,r)=>{var i=r(8044),n=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return i?void 0!==e[t]:n.call(e,t)}},5177:(t,e,r)=>{var i=r(8044);t.exports=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=i&&void 0===e?"__lodash_hash_undefined__":e,this}},2063:t=>{var e=Object.prototype.hasOwnProperty;t.exports=function(t){var r=t.length,i=new t.constructor(r);return r&&"string"==typeof t[0]&&e.call(t,"index")&&(i.index=t.index,i.input=t.input),i}},9826:(t,e,r)=>{var i=r(6411),n=r(5771),o=r(9463),s=r(2596),a=r(9208);t.exports=function(t,e,r){var l=t.constructor;switch(e){case"[object ArrayBuffer]":return i(t);case"[object Boolean]":case"[object Date]":return new l(+t);case"[object DataView]":return n(t,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return a(t,r);case"[object Map]":case"[object Set]":return new l;case"[object Number]":case"[object String]":return new l(t);case"[object RegExp]":return o(t);case"[object Symbol]":return s(t)}}},5193:(t,e,r)=>{var i=r(2942),n=r(1616),o=r(3323);t.exports=function(t){return"function"!=typeof t.constructor||o(t)?{}:i(n(t))}},3468:t=>{var e=/^(?:0|[1-9]\d*)$/;t.exports=function(t,r){var i=typeof t;return!!(r=null==r?9007199254740991:r)&&("number"==i||"symbol"!=i&&e.test(t))&&t>-1&&t%1==0&&t<r}},7561:(t,e,r)=>{var i=r(3561),n=r(3716),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;t.exports=function(t,e){if(i(t))return!1;var r=typeof t;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!n(t))||(s.test(t)||!o.test(t)||null!=e&&t in Object(e))}},9286:t=>{t.exports=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},620:(t,e,r)=>{var i,n=r(7292),o=(i=/[^.]+$/.exec(n&&n.keys&&n.keys.IE_PROTO||""))?"Symbol(src)_1."+i:"";t.exports=function(t){return!!o&&o in t}},3323:t=>{var e=Object.prototype;t.exports=function(t){var r=t&&t.constructor;return t===("function"==typeof r&&r.prototype||e)}},4986:(t,e,r)=>{var i=r(9323);t.exports=function(t){return t==t&&!i(t)}},4323:t=>{t.exports=function(){this.__data__=[],this.size=0}},235:(t,e,r)=>{var i=r(5108),n=Array.prototype.splice;t.exports=function(t){var e=this.__data__,r=i(e,t);return!(r<0)&&(r==e.length-1?e.pop():n.call(e,r,1),--this.size,!0)}},2161:(t,e,r)=>{var i=r(5108);t.exports=function(t){var e=this.__data__,r=i(e,t);return r<0?void 0:e[r][1]}},8371:(t,e,r)=>{var i=r(5108);t.exports=function(t){return i(this.__data__,t)>-1}},9290:(t,e,r)=>{var i=r(5108);t.exports=function(t,e){var r=this.__data__,n=i(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}},5734:(t,e,r)=>{var i=r(2254),n=r(2420),o=r(8373);t.exports=function(){this.size=0,this.__data__={hash:new i,map:new(o||n),string:new i}}},4817:(t,e,r)=>{var i=r(4440);t.exports=function(t){var e=i(this,t).delete(t);return this.size-=e?1:0,e}},491:(t,e,r)=>{var i=r(4440);t.exports=function(t){return i(this,t).get(t)}},5359:(t,e,r)=>{var i=r(4440);t.exports=function(t){return i(this,t).has(t)}},8150:(t,e,r)=>{var i=r(4440);t.exports=function(t,e){var r=i(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}},2391:t=>{t.exports=function(t){var e=-1,r=Array(t.size);return t.forEach((function(t,i){r[++e]=[i,t]})),r}},1055:t=>{t.exports=function(t,e){return function(r){return null!=r&&(r[t]===e&&(void 0!==e||t in Object(r)))}}},9444:(t,e,r)=>{var i=r(8469);t.exports=function(t){var e=i(t,(function(t){return 500===r.size&&r.clear(),t})),r=e.cache;return e}},8044:(t,e,r)=>{var i=r(7003)(Object,"create");t.exports=i},3524:(t,e,r)=>{var i=r(4821)(Object.keys,Object);t.exports=i},7210:t=>{t.exports=function(t){var e=[];if(null!=t)for(var r in Object(t))e.push(r);return e}},7226:(t,e,r)=>{t=r.nmd(t);var i=r(3732),n=e&&!e.nodeType&&e,o=n&&t&&!t.nodeType&&t,s=o&&o.exports===n&&i.process,a=function(){try{var t=o&&o.require&&o.require("util").types;return t||s&&s.binding&&s.binding("util")}catch(t){}}();t.exports=a},7851:t=>{var e=Object.prototype.toString;t.exports=function(t){return e.call(t)}},4821:t=>{t.exports=function(t,e){return function(r){return t(e(r))}}},2857:(t,e,r)=>{var i=r(3732),n="object"==typeof self&&self&&self.Object===Object&&self,o=i||n||Function("return this")();t.exports=o},3005:t=>{t.exports=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this}},4465:t=>{t.exports=function(t){return this.__data__.has(t)}},7701:t=>{t.exports=function(t){var e=-1,r=Array(t.size);return t.forEach((function(t){r[++e]=t})),r}},5025:(t,e,r)=>{var i=r(2420);t.exports=function(){this.__data__=new i,this.size=0}},5189:t=>{t.exports=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}},9316:t=>{t.exports=function(t){return this.__data__.get(t)}},536:t=>{t.exports=function(t){return this.__data__.has(t)}},6287:(t,e,r)=>{var i=r(2420),n=r(8373),o=r(3489);t.exports=function(t,e){var r=this.__data__;if(r instanceof i){var s=r.__data__;if(!n||s.length<199)return s.push([t,e]),this.size=++r.size,this;r=this.__data__=new o(s)}return r.set(t,e),this.size=r.size,this}},7422:(t,e,r)=>{var i=r(5044),n=r(5733),o=r(7659);t.exports=function(t){return n(t)?o(t):i(t)}},6966:(t,e,r)=>{var i=r(9444),n=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,s=i((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(n,(function(t,r,i,n){e.push(i?n.replace(o,"$1"):r||t)})),e}));t.exports=s},2152:(t,e,r)=>{var i=r(3716);t.exports=function(t){if("string"==typeof t||i(t))return t;var e=t+"";return"0"==e&&1/t==-Infinity?"-0":e}},6151:t=>{var e=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return e.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},4077:t=>{var e=/\s/;t.exports=function(t){for(var r=t.length;r--&&e.test(t.charAt(r)););return r}},7659:t=>{var e="\\ud800-\\udfff",r="["+e+"]",i="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",n="\\ud83c[\\udffb-\\udfff]",o="[^"+e+"]",s="(?:\\ud83c[\\udde6-\\uddff]){2}",a="[\\ud800-\\udbff][\\udc00-\\udfff]",l="(?:"+i+"|"+n+")"+"?",c="[\\ufe0e\\ufe0f]?",u=c+l+("(?:\\u200d(?:"+[o,s,a].join("|")+")"+c+l+")*"),h="(?:"+[o+i+"?",i,s,a,r].join("|")+")",d=RegExp(n+"(?="+n+")|"+h+u,"g");t.exports=function(t){return t.match(d)||[]}},3733:(t,e,r)=>{var i=r(787);t.exports=function(t){return i(t,5)}},1423:(t,e,r)=>{t.exports=r(7267)},3519:t=>{t.exports=function(t,e){return t===e||t!=t&&e!=e}},2725:(t,e,r)=>{var i=r(6811),n=r(6768),o=r(9056),s=r(3561);t.exports=function(t,e){return(s(t)?i:n)(t,o(e,3))}},9964:(t,e,r)=>{var i=r(6526)(r(8399));t.exports=i},8399:(t,e,r)=>{var i=r(4308),n=r(9056),o=r(9016),s=Math.max;t.exports=function(t,e,r){var a=null==t?0:t.length;if(!a)return-1;var l=null==r?0:o(r);return l<0&&(l=s(a+l,0)),i(t,n(e,3),l)}},7267:(t,e,r)=>{var i=r(7344),n=r(8441),o=r(5404),s=r(3561);t.exports=function(t,e){return(s(t)?i:n)(t,o(e))}},851:(t,e,r)=>{var i=r(847);t.exports=function(t,e,r){var n=null==t?void 0:i(t,e);return void 0===n?r:n}},2794:(t,e,r)=>{var i=r(3754),n=r(575);t.exports=function(t,e){return null!=t&&n(t,e,i)}},2512:t=>{t.exports=function(t){return t}},8033:(t,e,r)=>{var i=r(624),n=r(6843),o=Object.prototype,s=o.hasOwnProperty,a=o.propertyIsEnumerable,l=i(function(){return arguments}())?i:function(t){return n(t)&&s.call(t,"callee")&&!a.call(t,"callee")};t.exports=l},3561:t=>{var e=Array.isArray;t.exports=e},5898:(t,e,r)=>{var i=r(3079),n=r(9470);t.exports=function(t){return null!=t&&n(t.length)&&!i(t)}},8370:(t,e,r)=>{t=r.nmd(t);var i=r(2857),n=r(857),o=e&&!e.nodeType&&e,s=o&&t&&!t.nodeType&&t,a=s&&s.exports===o?i.Buffer:void 0,l=(a?a.isBuffer:void 0)||n;t.exports=l},3079:(t,e,r)=>{var i=r(4885),n=r(9323);t.exports=function(t){if(!n(t))return!1;var e=i(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},9470:t=>{t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}},6806:(t,e,r)=>{var i=r(7455),n=r(6791),o=r(7226),s=o&&o.isMap,a=s?n(s):i;t.exports=a},9323:t=>{t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},6843:t=>{t.exports=function(t){return null!=t&&"object"==typeof t}},1642:(t,e,r)=>{var i=r(9202),n=r(6791),o=r(7226),s=o&&o.isSet,a=s?n(s):i;t.exports=a},5053:(t,e,r)=>{var i=r(4885),n=r(3561),o=r(6843);t.exports=function(t){return"string"==typeof t||!n(t)&&o(t)&&"[object String]"==i(t)}},3716:(t,e,r)=>{var i=r(4885),n=r(6843);t.exports=function(t){return"symbol"==typeof t||n(t)&&"[object Symbol]"==i(t)}},1073:(t,e,r)=>{var i=r(7939),n=r(6791),o=r(7226),s=o&&o.isTypedArray,a=s?n(s):i;t.exports=a},3894:(t,e,r)=>{var i=r(3809),n=r(9199),o=r(5898);t.exports=function(t){return o(t)?i(t):n(t)}},5499:(t,e,r)=>{var i=r(3809),n=r(339),o=r(5898);t.exports=function(t){return o(t)?i(t,!0):n(t)}},8392:(t,e,r)=>{var i=r(2593),n=r(9056),o=r(3076),s=r(3561);t.exports=function(t,e){return(s(t)?i:o)(t,n(e,3))}},8469:(t,e,r)=>{var i=r(3489);function n(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var r=function(){var i=arguments,n=e?e.apply(this,i):i[0],o=r.cache;if(o.has(n))return o.get(n);var s=t.apply(this,i);return r.cache=o.set(n,s)||o,s};return r.cache=new(n.Cache||i),r}n.Cache=i,t.exports=n},6534:(t,e,r)=>{var i=r(2593),n=r(9056),o=r(7375),s=r(4450);t.exports=function(t,e){if(null==t)return{};var r=i(s(t),(function(t){return[t]}));return e=n(e),o(t,r,(function(t,r){return e(t,r[0])}))}},1474:(t,e,r)=>{var i=r(6655),n=r(6891),o=r(7561),s=r(2152);t.exports=function(t){return o(t)?i(s(t)):n(t)}},3810:(t,e,r)=>{var i=r(9026),n=r(8441),o=r(9056),s=r(6073),a=r(3561);t.exports=function(t,e,r){var l=a(t)?i:s,c=arguments.length<3;return l(t,o(e,4),r,c,n)}},5669:t=>{t.exports=function(){return[]}},857:t=>{t.exports=function(){return!1}},4824:(t,e,r)=>{var i=r(1785),n=1/0;t.exports=function(t){return t?(t=i(t))===n||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}},9016:(t,e,r)=>{var i=r(4824);t.exports=function(t){var e=i(t),r=e%1;return e==e?r?e-r:e:0}},1785:(t,e,r)=>{var i=r(1091),n=r(9323),o=r(3716),s=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt;t.exports=function(t){if("number"==typeof t)return t;if(o(t))return NaN;if(n(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=n(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=i(t);var r=a.test(t);return r||l.test(t)?c(t.slice(2),r?2:8):s.test(t)?NaN:+t}},5894:(t,e,r)=>{var i=r(7047);t.exports=function(t){return null==t?"":i(t)}},2236:(t,e,r)=>{var i=r(7920)("toUpperCase");t.exports=i}},r={};function i(t){var n=r[t];if(void 0!==n)return n.exports;var o=r[t]={id:t,loaded:!1,exports:{}};return e[t](o,o.exports,i),o.loaded=!0,o.exports}i.m=e,t=[],i.O=(e,r,n,o)=>{if(!r){var s=1/0;for(u=0;u<t.length;u++){for(var[r,n,o]=t[u],a=!0,l=0;l<r.length;l++)(!1&o||s>=o)&&Object.keys(i.O).every((t=>i.O[t](r[l])))?r.splice(l--,1):(a=!1,o<s&&(s=o));if(a){t.splice(u--,1);var c=n();void 0!==c&&(e=c)}}return e}o=o||0;for(var u=t.length;u>0&&t[u-1][2]>o;u--)t[u]=t[u-1];t[u]=[r,n,o]},i.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return i.d(e,{a:e}),e},i.d=(t,e)=>{for(var r in e)i.o(e,r)&&!i.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),i.nmd=t=>(t.paths=[],t.children||(t.children=[]),t),(()=>{var t={440:0,458:0};i.O.j=e=>0===t[e];var e=(e,r)=>{var n,o,[s,a,l]=r,c=0;if(s.some((e=>0!==t[e]))){for(n in a)i.o(a,n)&&(i.m[n]=a[n]);if(l)var u=l(i)}for(e&&e(r);c<s.length;c++)o=s[c],i.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return i.O(u)},r=self.webpackChunkdigital_creative_nova_dashboard=self.webpackChunkdigital_creative_nova_dashboard||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))})(),i.nc=void 0,i.O(void 0,[458],(()=>i(7973)));var n=i.O(void 0,[458],(()=>i(9962)));n=i.O(n)})();